"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8f467baa-93aa-50d2-a073-b4ce7a76cdbd")}catch(e){}}();
(self.webpackChunkanystay_dev=self.webpackChunkanystay_dev||[]).push([[2250],{2250:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var i=t(5043),o=t(5070),l=t(8108),r=t(7426),n=t(8069),d=t(579);function c(e){var s,t;let{review:l}=e;const[r,c]=(0,i.useState)("https://d292awxalydr86.cloudfront.net/Settings+page/Profile+photo+placeholder.png");return(0,i.useEffect)((()=>{var e,s;if(l&&null!==l&&void 0!==l&&null!==(e=l.UserHostModel)&&void 0!==e&&null!==(s=e.UserModel)&&void 0!==s&&s.profilePicture){const e=(0,n.A)(l.UserHostModel.UserModel.profilePicture,l.UserHostModel.UserModel.identityID,100);c(e)}}),[l]),l.body?(0,d.jsxs)(o.s8,{children:[l&&(0,d.jsxs)("div",{style:{display:"flex"},children:[(0,d.jsx)(o.YZ,{src:r,alt:"Picture of the guest who made the review"}),(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,d.jsx)(o.eC,{children:null===l||void 0===l||null===(s=l.UserHostModel)||void 0===s||null===(t=s.UserModel)||void 0===t?void 0:t.firstName}),(0,d.jsx)(o.ns,{children:new Date(l.createdAt).toLocaleDateString("en-AU",{month:"short",year:"numeric"})})]})]}),l.body&&(0,d.jsx)(o.Gq,{children:l.body})]}):null}var a=t(1869),h=t(831);const u=e=>{let{guestUserModel:s}=e;const[t,l]=(0,i.useState)(!1),[r,n]=(0,h.useRecoilState)(a.e);return(0,d.jsx)(i.Fragment,{children:(0,d.jsx)(o.$i,{children:(0,d.jsxs)(o.Bj,{children:[(0,d.jsxs)(o.TE,{children:[(null===r||void 0===r?void 0:r.instagramURL)&&(0,d.jsx)(o.nA,{target:"_blank",href:`https://www.instagram.com/${null===r||void 0===r?void 0:r.instagramURL}/`,children:(0,d.jsx)(o.M4,{src:"https://d292awxalydr86.cloudfront.net/Social-Icons/Instagram.svg",alt:""})}),(null===r||void 0===r?void 0:r.facebookURL)&&(0,d.jsx)(o.nA,{target:"_blank",href:`https://www.facebook.com/${null===r||void 0===r?void 0:r.facebookURL}`,children:(0,d.jsx)(o.M4,{src:"https://d292awxalydr86.cloudfront.net/Social-Icons/Facebook.svg",alt:""})}),(null===r||void 0===r?void 0:r.twitterURL)&&(0,d.jsx)(o.nA,{target:"_blank",href:`https://twitter.com/${null===r||void 0===r?void 0:r.twitterURL}`,children:(0,d.jsx)(o.M4,{src:"https://d292awxalydr86.cloudfront.net/Social-Icons/Twitter+3.svg",alt:""})}),(null===r||void 0===r?void 0:r.tiktokURL)&&(0,d.jsx)(o.nA,{target:"_blank",href:`https://www.tiktok.com/@${null===r||void 0===r?void 0:r.tiktokURL}`,children:(0,d.jsx)(o.M4,{src:"https://d292awxalydr86.cloudfront.net/Social-Icons/Tiktok.svg",alt:""})})]}),""===(null===r||void 0===r?void 0:r.profileDescription)||null===(null===r||void 0===r?void 0:r.profileDescription)?(0,d.jsxs)(o.Vj,{children:[(0,d.jsx)("strong",{children:`${s.firstName} hasn\u2019t written about them yet.`})," Don\u2019t worry, you can still message them to ask questions or see what they\u2019re like."]}):t?(0,d.jsxs)(o.Vj,{children:[`${null===r||void 0===r?void 0:r.profileDescription} `,(null===r||void 0===r?void 0:r.profileDescription)&&r.profileDescription.length>244&&(0,d.jsx)(o.gr,{type:"button",onClick:()=>{l(!1)},children:"Read less"})]}):(0,d.jsxs)(o.Vj,{children:[`${null===r||void 0===r?void 0:r.profileDescription.substring(0,244)}${null!==r&&void 0!==r&&r.profileDescription&&r.profileDescription.length>244?"...":""} `,(null===r||void 0===r?void 0:r.profileDescription)&&r.profileDescription.length>244&&(0,d.jsx)(o.gr,{type:"button",onClick:()=>{l(!0)},children:"Read more"})]})]})})})};var v=t(3216),x=t(8306),p=t(9856),f=t(1852);const j=()=>{const[e,s]=(0,i.useState)([]),{id:t}=(0,v.g)(),j=(0,v.Zp)(),[g,w]=(0,i.useState)(null),[y,m]=(0,h.useRecoilState)(a.e),k=(0,i.useCallback)((async()=>{await(0,r.p)("get","dev-anystay-user",`user/guest/profile/${t}`).then((async e=>{console.log(e),w(e.body.userModel),s(e.body.userModel.ReviewGuestModel?e.body.userModel.ReviewGuestModel.items:[])})).catch((e=>{console.log("ERROR"),console.log(e)}))}),[t]);(0,i.useEffect)((()=>{k()}),[k]);const U=(0,i.useMemo)((()=>{if(e.length>0){let s=0;return e.forEach((e=>{s+=e.overall})),s/e.length}}),[e]),[b,M]=(0,i.useState)(!1),R=()=>{b?(window.Intercom("hide"),M(!1)):(window.Intercom("showNewMessage",""),M(!0))},D=(0,p.A)(b,R);return g?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(x.A,{title:"Profile | Anystay"}),(0,d.jsxs)(o.Ni,{children:[(0,d.jsxs)(o.Rv,{children:[(0,d.jsx)(f.A,{onClick:()=>{j(-1)},type:"Arrow",mobileLeft:24,mobileTop:24}),(0,d.jsx)(o.CI,{children:(null===y||void 0===y?void 0:y.id)===(null===g||void 0===g?void 0:g.id)?`Welcome, ${null===y||void 0===y?void 0:y.firstName}`:"Meet your guest"})]}),(0,d.jsxs)(o.uR,{children:[(0,d.jsxs)(o.Gp,{children:[(0,d.jsxs)(o.Mk,{children:[(0,d.jsxs)(o.Rx,{children:[(0,d.jsx)(o._8,{src:g.profilePicture?(0,n.A)(g.profilePicture,g.identityID,100):"https://d292awxalydr86.cloudfront.net/Settings+page/Profile+photo+placeholder.png",alt:"Featured User profile picture Image"}),U&&(0,d.jsxs)(o.gm,{children:[(0,d.jsx)(o.pP,{src:"https://d292awxalydr86.cloudfront.net/Universal+icons/Star.svg",alt:""}),(0,d.jsx)(o.yY,{children:Number(U).toFixed(1)})]})]}),(0,d.jsxs)(o.I0,{children:[(0,d.jsx)(o.fW,{children:g.firstName}),(0,d.jsx)(o.ZH,{children:"Guest"}),(0,d.jsx)(o.rW,{onClick:R,ref:D,children:"Report guest"})]})]}),(0,d.jsx)(o.yN,{}),(0,d.jsxs)(o.Bq,{children:[(0,d.jsxs)(o.oI,{children:[(0,d.jsx)(o.Vl,{src:g.userIDConfirmed?"https://d292awxalydr86.cloudfront.net/Universal+icons/Identity.svg":"https://d292awxalydr86.cloudfront.net/Universal+icons/not-approved.svg",alt:"Verified contact icon"}),(0,d.jsx)(o.J2,{children:g.userIDConfirmed?"ID verified":"ID unverified"})]}),(0,d.jsxs)(o.oI,{children:[(0,d.jsx)(o.Vl,{src:g.phoneConfirmed?"https://d292awxalydr86.cloudfront.net/Universal+icons/approved.svg":"https://d292awxalydr86.cloudfront.net/Universal+icons/not-approved.svg",alt:"Verified contact icon"}),(0,d.jsx)(o.J2,{children:g.phoneConfirmed?"Phone verified":"Phone unverified"})]}),(0,d.jsxs)(o.oI,{children:[(0,d.jsx)(o.Vl,{src:g.emailConfirmed?"https://d292awxalydr86.cloudfront.net/Universal+icons/approved.svg":"https://d292awxalydr86.cloudfront.net/Universal+icons/not-approved.svg",alt:"Verified contact icon"}),(0,d.jsx)(o.J2,{children:g.emailConfirmed?"Email verified":"Email unverified"})]})]})]}),(0,d.jsxs)(o.U3,{children:[(0,d.jsx)(u,{guestUserModel:g}),e.length>0?(0,d.jsxs)(o.Cr,{children:[(0,d.jsxs)(o.Xg,{children:[e.length," reviews"]}),e.map(((e,s)=>(0,d.jsx)(c,{review:e},s)))]}):(0,d.jsxs)(o.Cr,{children:[(0,d.jsx)(o.Xg,{children:"Reviews"}),(0,d.jsx)(o.XC,{children:"No reviews yet"}),(0,d.jsxs)(o.Q1,{children:["Reviews by you and from",(0,d.jsx)("br",{}),"hosts will appear here"]})]})]})]})]}),(0,d.jsx)(l.A,{})]}):null}}}]);
//# sourceMappingURL=2250.0a437d18.chunk.js.map
//# debugId=8f467baa-93aa-50d2-a073-b4ce7a76cdbd
