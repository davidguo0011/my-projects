{"version":3,"file":"static/js/9147.219fe74e.chunk.js","sources":["components/map/map.tsx","pages/viewListing/sections/viewListingDesktopHeader.tsx","pages/viewListing/masonry/masonry.tsx","pages/viewListing/sections/viewListingFeaturedImages.tsx","pages/viewListing/sections/viewListingTitle.tsx","pages/viewListing/sections/viewListingVerifyListing.tsx","pages/viewListing/sections/viewListingDescription.tsx","pages/viewListing/sections/viewListingRooms.tsx","pages/viewListing/sections/viewListingAmenitiesList.tsx","pages/viewListing/sections/viewListingsReviews.tsx","pages/viewListing/sections/viewListingAboutLocation.tsx","pages/viewListing/sections/viewListingDeposit.tsx","pages/viewListing/sections/viewListingHouseRules.tsx","pages/viewListing/sections/viewListingCancellation.tsx","pages/viewListing/sections/viewListingOwner.tsx","pages/viewListing/sections/viewListingFooter.tsx","pages/viewListing/sections/ViewListingReviewPreview.tsx","pages/viewListing/skeletonViewListingPage/skeletonViewListingPageStyling.ts","pages/viewListing/skeletonViewListingPage/skeletonReservationDetails/SkeletonReservationDetailsStyling.ts","pages/viewListing/skeletonViewListingPage/skeletonReservationDetails/SkeletonReservationDetails.tsx","pages/viewListing/skeletonViewListingPage/skeletonViewListingPage.tsx","pages/viewListing/popups/viewListingSendMessage.tsx","pages/viewListing/sections/viewListingDesktopReserveButton.tsx","pages/viewListing/sections/viewListingReservationDetails.tsx","pages/viewListing/popups/viewListingShare.tsx","pages/viewListing/popups/viewListingReviewPopup.tsx","pages/viewListing/seo/jsonLd.ts","pages/viewListing/sections/viewListingTopBtn.tsx","pages/viewListing/viewListing.tsx","utils/savedListings/toggleSaved.ts"],"sourceRoot":"","sourcesContent":["import React, { useEffect, useState, useMemo } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { GoogleMap, MarkerF } from \"@react-google-maps/api\";\n\ninterface MyComponentProps {\n    lat: number;\n    lng: number;\n    containerStyle: React.CSSProperties;\n    zoom: number;\n    minZoom: number;\n    zoomControl?: boolean;\n    scrollWheelZoom?: boolean;\n}\n\nconst MyComponent: React.FC<MyComponentProps> = (props) => {\n    function wheelEvent(event: WheelEvent) {\n        // Set the ctrlKey property to true to avoid having to press ctrl to zoom in/out.\n        Object.defineProperty(event, \"ctrlKey\", { value: true });\n    }\n    useEffect(() => {\n        document.addEventListener(\"wheel\", wheelEvent, true);\n        return () => {\n            document.removeEventListener(\"wheel\", wheelEvent, true);\n        };\n    }, []);\n\n    const [map, setMap] = React.useState<google.maps.Map | null>(null);\n\n    const location = useLocation();\n\n    const [isTablet, setIsTablet] = useState(window.innerWidth >= 768 && window.innerWidth <= 1024);\n    useEffect(() => {\n        const handleResize = () => {\n            setIsTablet(window.innerWidth >= 768 && window.innerWidth <= 1024);\n        };\n        window.addEventListener(\"resize\", handleResize);\n        return () => {\n            window.removeEventListener(\"resize\", handleResize);\n        };\n    }, []);\n\n    const isStayPageTabletSize = useMemo(() => {\n        return location.pathname.includes(\"/your-stays\") && isTablet;\n    }, [location, isTablet]);\n\n    const newMapStyles = [\n        {\n            featureType: \"administrative.country\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#696969\",\n                },\n            ],\n        },\n        {\n            featureType: \"administrative.locality\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#696969\",\n                },\n            ],\n        },\n        {\n            featureType: \"administrative.locality\",\n            elementType: \"labels.text.stroke\",\n            stylers: [\n                {\n                    visibility: \"off\",\n                },\n            ],\n        },\n        {\n            featureType: \"administrative.neighborhood\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#919191\",\n                },\n            ],\n        },\n        {\n            featureType: \"administrative.province\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#696969\",\n                },\n            ],\n        },\n        {\n            featureType: \"landscape.man_made\",\n            elementType: \"geometry.fill\",\n            stylers: [\n                {\n                    color: \"#fbf4ed\",\n                },\n            ],\n        },\n        {\n            featureType: \"landscape.man_made\",\n            elementType: \"labels.text\",\n            stylers: [\n                {\n                    visibility: \"off\",\n                },\n            ],\n        },\n        {\n            featureType: \"landscape.natural\",\n            elementType: \"geometry.fill\",\n            stylers: [\n                {\n                    lightness: 10,\n                },\n            ],\n        },\n        {\n            featureType: \"landscape.natural\",\n            elementType: \"labels.text\",\n            stylers: [\n                {\n                    visibility: \"off\",\n                },\n            ],\n        },\n        {\n            featureType: \"poi\",\n            stylers: [\n                {\n                    visibility: \"off\",\n                },\n            ],\n        },\n        {\n            featureType: \"poi\",\n            elementType: \"labels.icon\",\n            stylers: [\n                {\n                    lightness: 25,\n                },\n            ],\n        },\n        {\n            featureType: \"poi\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    visibility: \"off\",\n                },\n            ],\n        },\n        {\n            featureType: \"poi\",\n            elementType: \"labels.text.stroke\",\n            stylers: [\n                {\n                    visibility: \"off\",\n                },\n            ],\n        },\n        {\n            featureType: \"poi.attraction\",\n            stylers: [\n                {\n                    visibility: \"on\",\n                },\n            ],\n        },\n        {\n            featureType: \"poi.attraction\",\n            elementType: \"labels.text\",\n            stylers: [\n                {\n                    visibility: \"off\",\n                },\n            ],\n        },\n        {\n            featureType: \"poi.park\",\n            elementType: \"geometry.fill\",\n            stylers: [\n                {\n                    color: \"#c3e7a3\",\n                },\n                {\n                    visibility: \"on\",\n                },\n            ],\n        },\n        {\n            featureType: \"poi.park\",\n            elementType: \"labels.icon\",\n            stylers: [\n                {\n                    visibility: \"on\",\n                },\n            ],\n        },\n        {\n            featureType: \"poi.school\",\n            elementType: \"geometry.fill\",\n            stylers: [\n                {\n                    color: \"#c3e7a3\",\n                },\n                {\n                    visibility: \"on\",\n                },\n            ],\n        },\n        {\n            featureType: \"poi.sports_complex\",\n            elementType: \"geometry.fill\",\n            stylers: [\n                {\n                    color: \"#c3e7a3\",\n                },\n                {\n                    visibility: \"on\",\n                },\n            ],\n        },\n        {\n            featureType: \"poi.sports_complex\",\n            elementType: \"labels.icon\",\n            stylers: [\n                {\n                    visibility: \"off\",\n                },\n            ],\n        },\n        {\n            featureType: \"road.arterial\",\n            elementType: \"geometry.stroke\",\n            stylers: [\n                {\n                    visibility: \"off\",\n                },\n            ],\n        },\n        {\n            featureType: \"road.arterial\",\n            elementType: \"labels.icon\",\n            stylers: [\n                {\n                    visibility: \"off\",\n                },\n            ],\n        },\n        {\n            featureType: \"road.arterial\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#999999\",\n                },\n            ],\n        },\n        {\n            featureType: \"road.highway\",\n            elementType: \"geometry.fill\",\n            stylers: [\n                {\n                    color: \"#ffffff\",\n                },\n            ],\n        },\n        {\n            featureType: \"road.highway\",\n            elementType: \"geometry.stroke\",\n            stylers: [\n                {\n                    color: \"#d1d1d1\",\n                },\n            ],\n        },\n        {\n            featureType: \"road.highway\",\n            elementType: \"labels.icon\",\n            stylers: [\n                {\n                    visibility: \"off\",\n                },\n            ],\n        },\n        {\n            featureType: \"road.highway\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#737373\",\n                },\n            ],\n        },\n        {\n            featureType: \"road.highway.controlled_access\",\n            stylers: [\n                {\n                    visibility: \"on\",\n                },\n            ],\n        },\n        {\n            featureType: \"road.highway.controlled_access\",\n            elementType: \"labels.icon\",\n            stylers: [\n                {\n                    lightness: 15,\n                },\n            ],\n        },\n        {\n            featureType: \"road.highway.controlled_access\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#737373\",\n                },\n            ],\n        },\n        {\n            featureType: \"road.local\",\n            elementType: \"geometry.fill\",\n            stylers: [\n                {\n                    lightness: 35,\n                },\n            ],\n        },\n        {\n            featureType: \"road.local\",\n            elementType: \"geometry.stroke\",\n            stylers: [\n                {\n                    visibility: \"off\",\n                },\n            ],\n        },\n        {\n            featureType: \"road.local\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#999999\",\n                },\n            ],\n        },\n        {\n            featureType: \"transit\",\n            elementType: \"labels.icon\",\n            stylers: [\n                {\n                    lightness: 30,\n                },\n            ],\n        },\n        {\n            featureType: \"transit\",\n            elementType: \"labels.text\",\n            stylers: [\n                {\n                    visibility: \"off\",\n                },\n            ],\n        },\n        {\n            featureType: \"transit.line\",\n            elementType: \"geometry.fill\",\n            stylers: [\n                {\n                    color: \"#dbdbdb\",\n                },\n            ],\n        },\n        {\n            featureType: \"transit.station.airport\",\n            elementType: \"geometry.fill\",\n            stylers: [\n                {\n                    color: \"#f2f2f2\",\n                },\n            ],\n        },\n        {\n            featureType: \"water\",\n            elementType: \"geometry.fill\",\n            stylers: [\n                {\n                    color: \"#a5e0f3\",\n                },\n            ],\n        },\n        {\n            featureType: \"water\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#6aacc8\",\n                },\n            ],\n        },\n    ];\n\n    const onLoad = React.useCallback(\n        function callback(mapInstance: google.maps.Map) {\n            setTimeout(() => {\n                const bounds = new window.google.maps.LatLngBounds({ lat: props.lat, lng: props.lng });\n                mapInstance.fitBounds(bounds);\n                setMap(mapInstance);\n                if (map && window.google && window.google.maps) {\n                    map.setOptions({\n                        zoomControlOptions: {\n                            position: window.google.maps.ControlPosition.TOP_RIGHT,\n                        },\n                    });\n                }\n            }, 300);\n        },\n        [props.lat, props.lng]\n    );\n\n    const onUnmount = React.useCallback(function callback() {\n        setMap(null);\n    }, []);\n\n    return (\n        <GoogleMap\n            mapContainerStyle={props.containerStyle}\n            center={{ lat: isStayPageTabletSize ? props.lat + 0.006 : props.lat, lng: props.lng }}\n            onLoad={onLoad}\n            onUnmount={onUnmount}\n            options={{\n                fullscreenControl: false,\n                disableDefaultUI: true,\n                minZoom: props.minZoom,\n                zoom: props.zoom,\n                styles: newMapStyles,\n                gestureHandling: \"greedy\",\n                zoomControl: props.zoomControl ? true : false,\n                scrollwheel: props.scrollWheelZoom,\n            }}\n        >\n            <MarkerF position={{ lat: props.lat, lng: props.lng }} icon={\"https://d292awxalydr86.cloudfront.net/Universal+icons/Map_marker.svg\"} />\n        </GoogleMap>\n    );\n};\n\nexport default React.memo(MyComponent);\n","import { useState, useEffect, useRef } from \"react\";\nimport {\n    ViewListingShareButtonIcon,\n    ViewListingDesktopHeaderWrapper,\n    ViewListingDesktopHeaderPriceWrapper,\n    ViewListingDesktopHeaderPrice,\n    ViewListingDesktopHeaderMinimum,\n    ViewListingDesktopHeaderReserveButton,\n    ViewListingDesktopHeaderContentWrapper,\n    HeartIcon,\n    ViewListingHeaderSaveButtonWrapper,\n    ViewListingHeaderShareButtonWrapper,\n} from \"../viewListingStyling\";\nimport { useNavigate } from \"react-router-dom\";\nimport { userModelSelector } from \"../../../state/selectors/userModel\";\nimport { useRecoilState } from \"recoil\";\nimport { ColorTheme } from \"../../../components/globaStyledComponents/globalStyledComponentsStyling\";\nimport { signInMenuActivatedSelector } from \"../../../state/selectors/navbarToggle\";\nimport { ListingInterface } from \"../viewListing\";\nimport { UserModel } from \"../../../interfaces/models/userModel\";\nimport { BookingDetail } from \"../../../interfaces/models/bookingDetail\";\nimport { GuestsInterface } from \"../viewListing\";\n\ninterface ViewListingDesktopHeaderProps {\n    listing: ListingInterface;\n    dates: {\n        startDate: string | Date;\n        endDate: string | Date;\n    };\n    guests: GuestsInterface;\n    accessToken: string;\n    toggleCalendar: () => void;\n    bookingDetails: BookingDetail | null;\n    toggleShareListing: () => Promise<void>;\n    toggleSaved: (listingId: string, userModel: UserModel, accessToken: string) => Promise<void>;\n    handleShare: () => Promise<void>;\n    isSaved: boolean;\n    setIsSaved: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nexport default function ViewListingDesktopHeader({\n    listing,\n    dates,\n    accessToken,\n    guests,\n    toggleCalendar,\n    bookingDetails,\n    toggleShareListing,\n    toggleSaved,\n    handleShare,\n    isSaved,\n    setIsSaved,\n}: ViewListingDesktopHeaderProps) {\n    const [desktopHeaderActive, setDesktopHeaderActive] = useState(false);\n    const [userModel, setUserModel] = useRecoilState(userModelSelector);\n    const [signInMenuActivated, setSignInMenuActivated] = useRecoilState(signInMenuActivatedSelector);\n    const isSavedLoading = useRef(false);\n\n    useEffect(() => {\n        window.addEventListener(\"scroll\", listenToScroll);\n        return () => {\n            window.removeEventListener(\"scroll\", listenToScroll);\n        };\n    }, []);\n\n    const listenToScroll = () => {\n        const scroll = window.pageYOffset;\n        setDesktopHeaderActive(scroll >= 1364);\n    };\n\n    const handleToggleSaved = async () => {\n        if (userModel) {\n            if (isSavedLoading.current) return;\n            try {\n                setIsSaved((prev) => !prev);\n                isSavedLoading.current = true;\n                await toggleSaved(listing.id, userModel, accessToken);\n            } catch (err: any) {\n                console.log(err);\n                setIsSaved((prev) => !prev);\n            } finally {\n                isSavedLoading.current = false;\n            }\n        } else {\n            setSignInMenuActivated(true);\n        }\n    };\n\n    return (\n        <ViewListingDesktopHeaderWrapper animate={{ y: desktopHeaderActive && window.innerWidth > 1024 ? 0 : \"-104px\" }} desktopHeaderActive={desktopHeaderActive} initial={false}>\n            <ViewListingDesktopHeaderContentWrapper>\n                {/* <ViewListingHeaderSaveButtonWrapper style={{ width: \"44px\", height: \"44px\" }} onClick={handleToggleSaved}>\n                    <HeartIcon xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 28 28\">\n                        <path\n                            d=\"M2.26061 13.3918C5.07331 17.4376 8.89663 20.4197 12.8238 23.2792C12.9722 23.3873 13.373 23.3224 13.5518 23.1927C16.4106 21.1187 19.1902 18.9466 21.5963 16.3436C23.5642 14.2148 25.3072 11.9361 26.0237 9.04917C26.8138 5.86965 25.4788 2.5114 22.8246 0.914431C20.2484 -0.634975 16.9311 -0.189611 14.4629 2.05451L14.4198 2.09405C14.1243 2.36677 13.8509 2.66287 13.5765 2.96004C13.443 3.10465 13.3093 3.2495 13.1726 3.39204C13.0119 3.23609 12.8591 3.08852 12.7119 2.94629C12.4578 2.7008 12.2197 2.47076 11.9833 2.23899C11.949 2.20545 11.9146 2.17227 11.8799 2.13945C9.70682 0.0822306 6.68254 -0.554266 4.17227 0.529602C1.6306 1.62644 -0.0576046 4.36492 0.00150402 7.35708C0.0461959 9.62714 1.00058 11.5816 2.26061 13.3918Z\"\n                            fill={isSaved ? `${ColorTheme.Red.color}` : `${ColorTheme.White.color}`}\n                            stroke={isSaved ? `${ColorTheme.Red.color}` : `${ColorTheme.Black.color}`}\n                            transform=\"translate(0.7, 2.5)\"\n                        />\n                    </HeartIcon>\n                </ViewListingHeaderSaveButtonWrapper>\n                <ViewListingHeaderShareButtonWrapper type=\"button\" onClick={window.innerWidth < 768 ? handleShare : toggleShareListing} style={{ width: \"44px\", height: \"44px\" }}>\n                    <ViewListingShareButtonIcon src={\"https://d292awxalydr86.cloudfront.net/Universal+icons/Share.svg\"} alt={\"Share Button\"} />\n                </ViewListingHeaderShareButtonWrapper> */}\n                <ViewListingDesktopHeaderPriceWrapper>\n                    {bookingDetails ? (\n                        <ViewListingDesktopHeaderPrice>\n                            <strong>\n                                {bookingDetails.displayItems.subTotalItems[0]\n                                    ? bookingDetails.displayItems.subTotalItems[0].amountFormatted\n                                    : `$${Number(bookingDetails.pricePerNight / 100).toFixed(2)}`}\n                            </strong>{\" \"}\n                            {bookingDetails.displayItems.subTotalItems[0] ? \"total\" : \"/ night\"}\n                        </ViewListingDesktopHeaderPrice>\n                    ) : (\n                        listing.minimumPrice && (\n                            <ViewListingDesktopHeaderPrice>\n                                <strong>${Number(listing.minimumPrice / 100).toFixed(2)}</strong> / night\n                            </ViewListingDesktopHeaderPrice>\n                        )\n                    )}\n                    <ViewListingDesktopHeaderMinimum type=\"button\" onClick={() => toggleCalendar()}>\n                        {dates.startDate !== \"anyArrival\" && dates.endDate !== \"anyDeparture\"\n                            ? `${(dates.startDate as Date).toLocaleDateString(\"au\", { month: \"short\", day: \"numeric\" })} - ${(dates.endDate as Date).toLocaleDateString(\"au\", {\n                                  month: \"short\",\n                                  day: \"numeric\",\n                              })}`\n                            : listing.minimumStay === 1 || listing.minimumStay === null\n                              ? \"No min. stay\"\n                              : `${listing.minimumStay} nights minimum`}\n                    </ViewListingDesktopHeaderMinimum>\n                </ViewListingDesktopHeaderPriceWrapper>\n                <ViewListingDesktopHeaderReserveButtonComponent dates={dates} guests={guests} listingID={listing.id} toggleCalendar={toggleCalendar} />\n            </ViewListingDesktopHeaderContentWrapper>\n        </ViewListingDesktopHeaderWrapper>\n    );\n}\n\ninterface ViewListingDesktopHeaderReserveButtonComponentProps {\n    dates: {\n        startDate: string | Date;\n        endDate: string | Date;\n    };\n    guests: GuestsInterface;\n    listingID: string;\n    toggleCalendar: () => void;\n}\n\nfunction ViewListingDesktopHeaderReserveButtonComponent({ dates, listingID, guests, toggleCalendar }: ViewListingDesktopHeaderReserveButtonComponentProps) {\n    let navigate = useNavigate();\n\n    return (\n        <ViewListingDesktopHeaderReserveButton\n            type=\"button\"\n            onClick={() => {\n                if (dates.startDate && dates.startDate !== \"anyArrival\" && dates.endDate && dates.startDate !== \"anyDeparture\") {\n                    // createBookingRequest()\n\n                    let arrivalDate = `${String((dates.startDate as Date).getDate()).padStart(2, \"0\")}-${String((dates.startDate as Date).getMonth() + 1).padStart(2, \"0\")}-${(dates.startDate as Date).getFullYear()}`;\n\n                    let departureDate = `${String((dates.endDate as Date).getDate()).padStart(2, \"0\")}-${String((dates.endDate as Date).getMonth() + 1).padStart(2, \"0\")}-${(dates.endDate as Date).getFullYear()}`;\n\n                    const adultsString = guests.adults ? `adults=${guests.adults}` : \"\";\n                    const childrenString = guests.children ? `children=${guests.children}` : \"\";\n                    const petsString = guests.pets ? `pets=${guests.pets}` : \"\";\n                    const infantsString = guests.infants ? `infants=${guests.infants}` : \"\";\n                    const searchParamsStrings = [adultsString, childrenString, petsString, infantsString].filter((param) => param !== \"\").join(\"&\");\n\n                    navigate(`/create-booking/${listingID}/${arrivalDate}/${departureDate}${searchParamsStrings ? `?${searchParamsStrings}` : \"\"}`);\n                } else {\n                    toggleCalendar();\n                }\n            }}\n        >\n            {dates.startDate && dates.startDate !== \"anyArrival\" && dates.endDate && dates.endDate !== \"anyDeparture\" ? \"Reserve\" : \"Select dates\"}\n        </ViewListingDesktopHeaderReserveButton>\n    );\n}\n","import { useMemo, useRef, useState, memo } from \"react\";\nimport {\n    ViewListingFeaturedImageDesktopWrapper,\n    ViewListingFeaturedImage,\n    ViewListingFeaturedImageSection,\n    ViewListingFeaturedImageBottomPart,\n    ViewListingImageMasonryItemWrapper,\n} from \"../viewListingStyling\";\n\nconst getSections = (listingImages: string[]) => {\n    const imgObjs = listingImages\n        .sort((a, b) => {\n            let aPriority = JSON.parse(a)?.hasOwnProperty(\"priority\") ? JSON.parse(a).priority : Infinity;\n            let bPriority = JSON.parse(b)?.hasOwnProperty(\"priority\") ? JSON.parse(b).priority : Infinity;\n\n            return aPriority - bPriority;\n        })\n        .map((item) => {\n            return JSON.parse(item);\n        });\n\n    const imgObjsWithAspectRatio = imgObjs.map((item, index) => ({ ...item, aspectRatio: item?.width / item?.height, index: index }));\n\n    const sections = [];\n    //一个section最多4张图\n    //第一张图如果是高的就放一个section\n    //第一张图如果是宽的就放section里，看剩下的两张\n\n    let i = 0;\n\n    while (i < imgObjsWithAspectRatio.length) {\n        let sectionContent = [imgObjsWithAspectRatio[i]];\n\n        // if first item is tall, it fills the whole section\n        if (imgObjsWithAspectRatio[i]?.aspectRatio < 1) {\n            sections.push(sectionContent);\n            i++;\n            continue;\n        }\n\n        // if first item is wide, second item is super wide, second item fill the whole bottom section\n        if (imgObjsWithAspectRatio[i + 1] && imgObjsWithAspectRatio[i + 1].aspectRatio >= 1.8) {\n            sectionContent.push(imgObjsWithAspectRatio[i + 1]);\n            sections.push(sectionContent);\n            i += 2;\n            continue;\n        }\n\n        // if first item is wide, second item is not super wide, fill two item into the bottom section\n        if (imgObjsWithAspectRatio[i + 1]) {\n            sectionContent.push(imgObjsWithAspectRatio[i + 1]);\n            i++;\n            if (imgObjsWithAspectRatio[i + 1]) {\n                sectionContent.push(imgObjsWithAspectRatio[i + 1]);\n                i++;\n            }\n        }\n\n        sections.push(sectionContent);\n        i++;\n    }\n\n    return sections;\n};\n\ninterface ImageInterface {\n    onClick: () => void;\n    id: string;\n    src: string;\n    alt: string;\n    style: React.CSSProperties;\n    aspectRatio: number;\n}\n\nfunction Image({ onClick, id, src, alt, style, aspectRatio }: ImageInterface) {\n    const [imgLoaded, setImgLoaded] = useState(false);\n    return (\n        <ViewListingImageMasonryItemWrapper style={style} aspectRatio={aspectRatio}>\n            <ViewListingFeaturedImage\n                // style={{ display: \"none\" }}\n                imgLoaded={imgLoaded}\n                onLoad={() => {\n                    setImgLoaded(true);\n                }}\n                onClick={onClick}\n                id={id}\n                src={src}\n                alt={alt}\n            />\n        </ViewListingImageMasonryItemWrapper>\n    );\n}\n\ninterface MasonryProps {\n    imageUrls: string[];\n    setLightBoxActive: React.Dispatch<React.SetStateAction<boolean>>;\n    setCarouselIndex: React.Dispatch<React.SetStateAction<number>>;\n    listingImages: string[];\n}\n\nfunction Masonry({ imageUrls, setLightBoxActive, setCarouselIndex, listingImages }: MasonryProps) {\n    const sections = useMemo(() => {\n        return getSections(listingImages);\n    }, [listingImages]);\n    const columnReverse = useRef(true);\n\n    return (\n        <ViewListingFeaturedImageDesktopWrapper>\n            {sections.map((section, index) => {\n                if (index > 2) return null;\n                if (section.length === 1) {\n                    return (\n                        <ViewListingFeaturedImageSection key={section[0].key}>\n                            <Image\n                                style={{ height: \"100%\" }}\n                                onClick={() => {\n                                    setLightBoxActive(true);\n                                    setCarouselIndex(section[0].index);\n                                }}\n                                id={`index-${section[0].index}`}\n                                src={imageUrls[section[0].index]}\n                                alt=\"Featured Listing Image\"\n                                aspectRatio={section[0].aspectRatio}\n                            />\n                        </ViewListingFeaturedImageSection>\n                    );\n                } else {\n                    columnReverse.current = !columnReverse.current;\n                    return (\n                        <ViewListingFeaturedImageSection columnReverse={columnReverse.current} key={section[0].key}>\n                            <Image\n                                style={{ maxHeight: \"65%\", minHeight: \"50%\" }}\n                                onClick={() => {\n                                    setLightBoxActive(true);\n                                    setCarouselIndex(section[0].index);\n                                }}\n                                id={`index-${section[0].index}`}\n                                src={imageUrls[section[0].index]}\n                                alt=\"Featured Listing Image\"\n                                aspectRatio={section[0].aspectRatio}\n                            />\n                            <ViewListingFeaturedImageBottomPart>\n                                {section.map((item, index) => {\n                                    if (index === 0) return null;\n                                    let totalAspectRatio = null;\n                                    let widthPercentage = null;\n                                    if (section.length > 2) {\n                                        totalAspectRatio = section[1].aspectRatio + section[2].aspectRatio;\n                                        widthPercentage = (item.aspectRatio / totalAspectRatio) * 100;\n                                    }\n                                    return (\n                                        <Image\n                                            style={{ width: `calc(${widthPercentage ? widthPercentage : 100}% - 4px)` }}\n                                            onClick={() => {\n                                                setLightBoxActive(true);\n                                                setCarouselIndex(item.index);\n                                            }}\n                                            id={`index-${item.index}`}\n                                            src={imageUrls[item.index]}\n                                            alt=\"Featured Listing Image\"\n                                            key={item.key}\n                                            aspectRatio={item.aspectRatio}\n                                        />\n                                    );\n                                })}\n                            </ViewListingFeaturedImageBottomPart>\n                        </ViewListingFeaturedImageSection>\n                    );\n                }\n            })}\n        </ViewListingFeaturedImageDesktopWrapper>\n    );\n}\n\nexport default memo(Masonry);\n","import { useMemo, useState } from \"react\";\nimport {\n    ViewListingFeaturedImage,\n    ViewListingFeaturedImageWrapper,\n    ViewListingImageIcon,\n    ViewListingImageBackIcon,\n    ViewListingFeaturedImagesWrapper,\n    ViewListingFeaturedImageTextWrapper,\n    ViewListingFeaturedImageTitle,\n} from \"../viewListingStyling\";\nimport Masonry from \"../masonry/masonry\";\nimport constructOptimisedImageUrl from \"../../../utils/imageOptimisation/constructOptimisedImageUrl\";\nimport Lightbox from \"react-18-image-lightbox\";\nimport { Pagination, Navigation } from \"swiper\";\n\ninterface ViewListingFeaturedImagesProps {\n    listingImages: string[];\n    openedGalleryEvent: any;\n}\n\nexport default function ViewListingFeaturedImages({ listingImages, openedGalleryEvent }: ViewListingFeaturedImagesProps) {\n    const [carouselIndex, setCarouselIndex] = useState(0);\n    const [lightboxActive, setLightBoxActive] = useState(false);\n    const [hover, setHover] = useState(false);\n\n    const imageUrls = useMemo(() => {\n        return listingImages\n            .sort((a, b) => {\n                let aPriority = JSON.parse(a)?.hasOwnProperty(\"priority\") ? JSON.parse(a).priority : Infinity;\n                let bPriority = JSON.parse(b)?.hasOwnProperty(\"priority\") ? JSON.parse(b).priority : Infinity;\n\n                return aPriority - bPriority;\n            })\n            .map((imgKey) => {\n                return constructOptimisedImageUrl(JSON.parse(imgKey)?.key, 1500);\n            });\n    }, [listingImages]);\n\n    return (\n        <>\n            {lightboxActive && (\n                <Lightbox\n                    mainSrc={imageUrls[carouselIndex]}\n                    nextSrc={imageUrls[(carouselIndex + 1) % imageUrls.length]}\n                    prevSrc={imageUrls[(carouselIndex + imageUrls.length - 1) % imageUrls.length]}\n                    onCloseRequest={() => setLightBoxActive(false)}\n                    onMovePrevRequest={() => {\n                        setCarouselIndex((carouselIndex + imageUrls.length - 1) % imageUrls.length);\n                    }}\n                    onMoveNextRequest={() => {\n                        setCarouselIndex((carouselIndex + 1) % imageUrls.length);\n                    }}\n                    enableZoom={false}\n                    onAfterOpen={() => {\n                        //remove the background style of the toolbar when lightbox is opened\n                        (document.getElementsByClassName(\"ril__toolbar\")[0] as HTMLElement).style.background = \"transparent\";\n                    }}\n                />\n            )}\n            <ViewListingFeaturedImageWrapper>\n                <Masonry imageUrls={imageUrls} listingImages={listingImages} setLightBoxActive={setLightBoxActive} setCarouselIndex={setCarouselIndex} />\n                <ViewListingFeaturedImagesWrapper\n                    className=\"mySwiper\"\n                    modules={[Navigation, Pagination]}\n                    navigation={true}\n                    centeredSlides={true}\n                    pagination={{\n                        clickable: true,\n                    }}\n                    loop={true}\n                    onSlideChange={(e) => {}}\n                    initialSlide={0}\n                >\n                    {imageUrls.map((imageUrl, index) => {\n                        return (\n                            <ViewListingFeaturedImageWrapper key={index} virtualIndex={index}>\n                                <ViewListingFeaturedImage\n                                    onClick={() => {\n                                        setLightBoxActive(true);\n                                        setCarouselIndex(index);\n                                    }}\n                                    id={`index-${index}`}\n                                    src={imageUrl}\n                                    imgLoaded={true}\n                                    alt=\"Featured Listing Image\"\n                                />\n                            </ViewListingFeaturedImageWrapper>\n                        );\n                    })}\n                </ViewListingFeaturedImagesWrapper>\n\n                <ViewListingImageBackIcon url={imageUrls[2]} index={hover} />\n                <ViewListingImageIcon\n                    url={imageUrls[1]}\n                    onClick={() => {\n                        setLightBoxActive(true);\n                        setCarouselIndex(0);\n                        openedGalleryEvent();\n                    }}\n                    onMouseEnter={() => setHover(true)}\n                    onMouseLeave={() => setHover(false)}\n                >\n                    <ViewListingFeaturedImageTextWrapper>\n                        <ViewListingFeaturedImageTitle>{imageUrls.length}</ViewListingFeaturedImageTitle>\n                    </ViewListingFeaturedImageTextWrapper>\n                </ViewListingImageIcon>\n            </ViewListingFeaturedImageWrapper>\n        </>\n    );\n}\n","import {\n    ViewListingTitleWrapper,\n    ViewListingTitleSubtitle,\n    ViewListingTitleTitle,\n    ViewListingTitleAmenities,\n    ViewListingSubtitleWrapper,\n    ViewListingCouponArea,\n    ViewListingCouponAreaText,\n    CouponCopyButton,\n    CouponCopyButtonIcon,\n    ViewListingCouponAreaContent,\n    ViewListingTitleReview,\n    ViewListingTitleReviewStar,\n    ViewListingTitleReviewText,\n} from \"../viewListingStyling\";\nimport { useState, useEffect } from \"react\";\nimport { AnimatePresence } from \"framer-motion\";\nimport CopiedToClipboardPortal from \"../../../components/popupNotification/copiedToClipboard/CopiedToClipboard\";\nimport { ListingInterface } from \"../viewListing\";\nimport { ColorTheme } from \"../../../components/globaStyledComponents/globalStyledComponentsStyling\";\n\ninterface ViewListingTitleProps {\n    propertyTitle: string;\n    state: string;\n    suburb: string;\n    listing: ListingInterface;\n    propertyType: string;\n}\n\nexport default function ViewListingTitle({ propertyTitle, state, suburb, listing, propertyType }: ViewListingTitleProps) {\n    const formatPlural = (value: number, singular: string, plural: string) => `${value} ${value > 1 ? plural : singular}`;\n    const [copied, setCopied] = useState(false);\n\n    useEffect(() => {\n        if (copied) {\n            const timer = setTimeout(() => {\n                setCopied(false);\n            }, 2000);\n\n            return () => clearTimeout(timer);\n        }\n    }, [copied]);\n\n    return (\n        <ViewListingTitleWrapper verified={listing.verified}>\n            <ViewListingTitleTitle>{propertyTitle}</ViewListingTitleTitle>\n            <ViewListingSubtitleWrapper>\n                <div>\n                    <ViewListingTitleSubtitle>\n                        {propertyType.charAt(0).toUpperCase() + propertyType.slice(1)} in {suburb}, {state}\n                    </ViewListingTitleSubtitle>\n                    <ViewListingTitleAmenities>\n                        {formatPlural(listing.guests, \"guest\", \"guests\")} · {formatPlural(listing.bedrooms, \"bedroom\", \"bedrooms\")} · {formatPlural(listing.beds, \"bed\", \"beds\")} ·{\" \"}\n                        {formatPlural(listing.bathrooms / 2, \"bath\", \"baths\")}\n                        {listing.areaValue > 0 && ` · ${listing.areaValue} ${listing.areaUnit}`}\n                    </ViewListingTitleAmenities>\n                    <ViewListingTitleReview>\n                        <ViewListingTitleReviewStar>\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 31 29\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                <path\n                                    d=\"M14.2997 0.885909C14.7438 -0.181772 16.2562 -0.181774 16.7003 0.885907L19.8239 8.39584C20.0111 8.84595 20.4344 9.15349 20.9203 9.19244L29.0279 9.84243C30.1806 9.93484 30.6479 11.3733 29.7697 12.1256L23.5926 17.4169C23.2224 17.7341 23.0607 18.2317 23.1738 18.7059L25.061 26.6175C25.3293 27.7423 24.1057 28.6313 23.1189 28.0286L16.1776 23.7889C15.7616 23.5348 15.2384 23.5348 14.8224 23.7889L7.88113 28.0286C6.8943 28.6313 5.67067 27.7423 5.93898 26.6175L7.82619 18.7059C7.9393 18.2317 7.77762 17.7341 7.40739 17.4169L1.23025 12.1256C0.352056 11.3733 0.819438 9.93484 1.97209 9.84243L10.0797 9.19245C10.5656 9.15349 10.9889 8.84595 11.1761 8.39584L14.2997 0.885909Z\"\n                                    fill={ColorTheme.Black.color}\n                                />\n                            </svg>\n                        </ViewListingTitleReviewStar>\n                        <ViewListingTitleReviewText>\n                            {listing.ReviewStayModels.items.length > 0 ? ((listing.overallAverage / 10) * 2).toFixed(1) : \"NEW\"}\n                            {listing.ReviewStayModels.items.length > 0 && <strong> ({listing.ReviewStayModels.items.length})</strong>}\n                        </ViewListingTitleReviewText>\n                    </ViewListingTitleReview>\n                </div>\n            </ViewListingSubtitleWrapper>\n            <ViewListingCouponArea>\n                <ViewListingCouponAreaContent>\n                    <ViewListingCouponAreaText>10% off with HELLOAUS</ViewListingCouponAreaText>\n                    <CouponCopyButton\n                        onClick={() => {\n                            navigator.clipboard.writeText(`HELLOAUS`);\n                            setCopied(true);\n                        }}\n                    >\n                        <CouponCopyButtonIcon src={\"https://d292awxalydr86.cloudfront.net/Social-Icons/Duplicate+2.svg\"} alt={\"Icon\"} />\n                        <AnimatePresence>{copied && <CopiedToClipboardPortal />}</AnimatePresence>\n                    </CouponCopyButton>\n                </ViewListingCouponAreaContent>\n            </ViewListingCouponArea>\n        </ViewListingTitleWrapper>\n    );\n}\n","import {\n    ViewListingVerifyListingBtn,\n    ViewListingVerifyListingSubtitle,\n    ViewListingVerifyListingTitle,\n    ViewListingVerifyListingTitleWrapper,\n    ViewListingVerifyListingWrapper,\n} from \"../viewListingStyling\";\n\nexport default function ViewListingVerifyListing() {\n    return (\n        <ViewListingVerifyListingWrapper>\n            <ViewListingVerifyListingTitleWrapper>\n                <ViewListingVerifyListingTitle>Verified listing</ViewListingVerifyListingTitle>\n                <ViewListingVerifyListingSubtitle>We have reviewed this property’s details.</ViewListingVerifyListingSubtitle>\n            </ViewListingVerifyListingTitleWrapper>\n            <ViewListingVerifyListingBtn href={\"https://help.anystay.com.au/en/articles/7007366-verifying-your-identity\"} target=\"_blank\">\n                Learn&nbsp;more\n            </ViewListingVerifyListingBtn>\n        </ViewListingVerifyListingWrapper>\n    );\n}\n","import { useState, Fragment } from \"react\";\nimport { ViewListingDescriptionWrapper, ViewListingDescriptionText, ViewListingReadMoreButton } from \"../viewListingStyling\";\n\nexport default function ViewListingDescription({ description }: { description: string }) {\n    let [readMore, setReadMore] = useState(true);\n\n    const formatTextWithLineBreaks = (text: string) => {\n        return text.split(\"\\n\").map((line, index) => (\n            <Fragment key={index}>\n                {line}\n                <br />\n            </Fragment>\n        ));\n    };\n\n    return (\n        <ViewListingDescriptionWrapper>\n            {description !== \"\" && description !== null && (\n                <ViewListingDescriptionText>\n                    {readMore\n                        ? description.length > 500\n                            ? formatTextWithLineBreaks(description.slice(0, 500) + \"...\")\n                            : formatTextWithLineBreaks(description)\n                        : formatTextWithLineBreaks(description)}\n                    {description.length > 500 && (\n                        <ViewListingReadMoreButton type=\"button\" onClick={() => setReadMore(!readMore)}>\n                            {readMore ? \"Read more\" : \"Read less\"}\n                        </ViewListingReadMoreButton>\n                    )}\n                </ViewListingDescriptionText>\n            )}\n        </ViewListingDescriptionWrapper>\n    );\n}\n","import { useState, useMemo } from \"react\";\nimport { ColorTheme } from \"../../../components/globaStyledComponents/globalStyledComponentsStyling\";\nimport {\n    ViewLisitingAvailableRoomWrapper,\n    ViewLisitingAvailableRoomTitle,\n    ViewLisitingAvailableRooms,\n    ViewLisitingAvailableRoom,\n    ViewLisitingAvailableRoomIcon,\n    ViewLisitingAvailableRoomText,\n    ViewLisitingAvailableRoomSubtext,\n    ViewLisitingAvailableRoomImage,\n    ViewLisitingAvailableRoomSubtextListItem,\n    ViewLisitingSwiperButton,\n    ViewLisitingSwiperButtonWrapper,\n    SwiperSlideWrapper,\n} from \"../viewListingStyling\";\nimport Lightbox from \"react-18-image-lightbox\";\nimport { useSwiper } from \"swiper/react\";\nimport { FreeMode, Navigation } from \"swiper\";\nimport { RoomModel } from \"../../../interfaces/models/roomModel\";\nimport constructOptimisedImageUrl from \"../../../utils/imageOptimisation/constructOptimisedImageUrl\";\n\nexport default function ViewListingAvailableRooms({ availableRooms }: { availableRooms: RoomModel[] }) {\n    const [isEnd, setIsEnd] = useState(false);\n    const [isBeginning, setIsBeginning] = useState(true);\n\n    const SwiperButton = ({ isEnd, isBeginning }: { isEnd: boolean; isBeginning: boolean }) => {\n        const swiper = useSwiper();\n        return (\n            <ViewLisitingSwiperButtonWrapper>\n                <ViewLisitingSwiperButton onClick={() => swiper.slidePrev()} selected={isBeginning}>\n                    <svg width=\"8px\" height=\"12px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 160\" fill=\"none\">\n                        <path\n                            d=\"M75.6698 10.0001C76.8638 9.99401 78.0469 10.2281 79.1498 10.6891C80.2526 11.15 81.2529 11.8279 82.0921 12.6827C83.794 14.3972 84.75 16.7213 84.75 19.1454C84.75 21.5683 83.794 23.8925 82.0921 25.6081L27.9259 80.1143L82.0921 134.62C83.6975 136.354 84.5714 138.647 84.5298 141.016C84.4884 143.385 83.5345 145.646 81.8694 147.321C80.2043 148.997 77.9578 149.957 75.6032 149.999C73.2487 150.04 70.9705 149.161 69.2474 147.545L8.65864 86.577C6.95609 84.8613 6 82.5372 6 80.1143C6 77.6901 6.95609 75.366 8.65864 73.6516L69.2474 12.6827C70.086 11.8279 71.0869 11.15 72.1896 10.6891C73.2923 10.2281 74.475 9.99401 75.6698 10.0001Z\"\n                            fill={isBeginning ? ColorTheme.Grey2.color : ColorTheme.Black.color}\n                        />\n                    </svg>\n                </ViewLisitingSwiperButton>\n                <ViewLisitingSwiperButton onClick={() => swiper.slideNext()} selected={isEnd}>\n                    <svg width=\"8px\" height=\"12px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 160\" fill=\"none\" style={{ transform: \"rotate(180deg)\" }}>\n                        <path\n                            d=\"M75.6698 10.0001C76.8638 9.99401 78.0469 10.2281 79.1498 10.6891C80.2526 11.15 81.2529 11.8279 82.0921 12.6827C83.794 14.3972 84.75 16.7213 84.75 19.1454C84.75 21.5683 83.794 23.8925 82.0921 25.6081L27.9259 80.1143L82.0921 134.62C83.6975 136.354 84.5714 138.647 84.5298 141.016C84.4884 143.385 83.5345 145.646 81.8694 147.321C80.2043 148.997 77.9578 149.957 75.6032 149.999C73.2487 150.04 70.9705 149.161 69.2474 147.545L8.65864 86.577C6.95609 84.8613 6 82.5372 6 80.1143C6 77.6901 6.95609 75.366 8.65864 73.6516L69.2474 12.6827C70.086 11.8279 71.0869 11.15 72.1896 10.6891C73.2923 10.2281 74.475 9.99401 75.6698 10.0001Z\"\n                            fill={isEnd ? ColorTheme.Grey2.color : ColorTheme.Black.color}\n                        />\n                    </svg>\n                </ViewLisitingSwiperButton>\n            </ViewLisitingSwiperButtonWrapper>\n        );\n    };\n\n    if (availableRooms.length === 0) return null;\n    const sortedAvailableRooms = availableRooms.sort((a, b) => {\n        const getOrder = (roomType: string): number => {\n            switch (roomType) {\n                case \"bedroom\":\n                    return 1;\n                case \"bathroom\":\n                    return 2;\n                case \"half-bathroom\":\n                    return 3;\n                case \"otherRoom\":\n                    return 4;\n                default:\n                    return 5;\n            }\n        };\n\n        return getOrder(a.roomType) - getOrder(b.roomType);\n    });\n    return (\n        <ViewLisitingAvailableRoomWrapper>\n            <ViewLisitingAvailableRoomTitle>Rooms and spaces</ViewLisitingAvailableRoomTitle>\n            <ViewLisitingAvailableRooms\n                slidesPerView=\"auto\"\n                spaceBetween={24}\n                modules={[Navigation, FreeMode]}\n                freeMode={true}\n                pagination={{\n                    clickable: true,\n                }}\n                loop={false}\n                onSlideChange={(e) => {\n                    setIsEnd(e.isEnd);\n                    setIsBeginning(e.isBeginning);\n                }}\n                className=\"listing-category-swiper\"\n            >\n                {sortedAvailableRooms.map(function (value, index) {\n                    return (\n                        <SwiperSlideWrapper key={index}>\n                            <ViewListingAvailableRoomCard room={value} key={index} />\n                        </SwiperSlideWrapper>\n                    );\n                })}\n                {availableRooms.length > 3 && <SwiperButton isEnd={isEnd} isBeginning={isBeginning} />}\n            </ViewLisitingAvailableRooms>\n        </ViewLisitingAvailableRoomWrapper>\n    );\n}\n\nfunction ViewListingAvailableRoomCard({ room }: { room: RoomModel }) {\n    const [imageLightboxActive, setImageLightBoxActive] = useState(false);\n    let singleBeds = room.roomType === \"bedroom\" && room.roomBeds ? room.roomBeds.filter((bed: string) => bed === \"single\") : [];\n    let doubleBeds = room.roomType === \"bedroom\" && room.roomBeds ? room.roomBeds.filter((bed: string) => bed === \"double\") : [];\n    let queenBeds = room.roomType === \"bedroom\" && room.roomBeds ? room.roomBeds.filter((bed: string) => bed === \"queen\") : [];\n    let kingBeds = room.roomType === \"bedroom\" && room.roomBeds ? room.roomBeds.filter((bed: string) => bed === \"king\") : [];\n\n    const formatBeds = () => {\n        let beds = [];\n        if (singleBeds.length > 0) {\n            beds.push(singleBeds.length + \" single\");\n        }\n        if (doubleBeds.length > 0) {\n            beds.push(doubleBeds.length + \" double\");\n        }\n        if (queenBeds.length > 0) {\n            beds.push(queenBeds.length + \" queen\");\n        }\n        if (kingBeds.length > 0) {\n            beds.push(kingBeds.length + \" king\");\n        }\n        return beds.join(\", \");\n    };\n\n    const roomImageUrl = useMemo(() => {\n        if (room.images[0]) {\n            return constructOptimisedImageUrl(room.images[0], 300);\n        }\n        return \"\";\n    }, [room.images]);\n\n    return (\n        <>\n            {imageLightboxActive && (\n                <Lightbox\n                    mainSrc={room.images[0] ? constructOptimisedImageUrl(room.images[0], 1000) : \"\"}\n                    onCloseRequest={() => setImageLightBoxActive(false)}\n                    imageTitle={\n                        room.roomType === \"bedroom\"\n                            ? `${room.roomTitle} • ${singleBeds.length > 0 ? singleBeds.length + \" single bed\" + (singleBeds.length > 1 ? \"s\" : \"\") : \"\"}${\n                                  doubleBeds.length > 0 ? doubleBeds.length + \" double bed\" + (doubleBeds.length > 1 ? \"s\" : \"\") : \"\"\n                              }${queenBeds.length > 0 ? queenBeds.length + \" queen bed\" + (queenBeds.length > 1 ? \"s\" : \"\") : \"\"}${\n                                  kingBeds.length > 0 ? kingBeds.length + \" king bed\" + (kingBeds.length > 1 ? \"s\" : \"\") : \"\"\n                              }`\n                            : room.roomTitle\n                    }\n                    enableZoom={false}\n                />\n            )}\n            <ViewLisitingAvailableRoom>\n                {roomImageUrl ? (\n                    <ViewLisitingAvailableRoomImage onClick={() => setImageLightBoxActive(true)} src={roomImageUrl} alt={\"room icon\"} />\n                ) : room.roomType === \"bedroom\" ? (\n                    <ViewLisitingAvailableRoomIcon src={\"https://d292awxalydr86.cloudfront.net/Listing+page+icons/Bedrooms.svg\"} alt={\"room icon\"} />\n                ) : (\n                    (room.roomType === \"bathroom\" || room.roomType === \"half-bathroom\") && (\n                        <ViewLisitingAvailableRoomIcon src={\"https://d292awxalydr86.cloudfront.net/Listing+page+icons/Bathrooms.svg\"} alt={\"room icon\"} />\n                    )\n                )}\n            </ViewLisitingAvailableRoom>\n            <ViewLisitingAvailableRoomText>{room.roomTitle}</ViewLisitingAvailableRoomText>\n            {room.roomType === \"bedroom\" && (\n                <ViewLisitingAvailableRoomSubtext>\n                    <ViewLisitingAvailableRoomSubtextListItem>{formatBeds()}</ViewLisitingAvailableRoomSubtextListItem>\n                </ViewLisitingAvailableRoomSubtext>\n            )}\n        </>\n    );\n}\n","import { useState } from \"react\";\nimport {\n    ViewListingAmenitiesListWrapper,\n    ViewListingAmenitiesListTitle,\n    ViewListingAmenitiesListContainer,\n    ViewListingAmenitiesListItem,\n    ViewListingAmenitiesListItemIcon,\n    ViewListingAmenitiesListItemText,\n    ViewListingAmenitiesMoreButton,\n} from \"../viewListingStyling\";\n\nconst amenitiesSrc = {\n    Bed: \"https://d292awxalydr86.cloudfront.net/Listing+page+icons/Bedrooms.svg\",\n    Desk: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Desk.svg\",\n    Washer: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Washer.svg\",\n    Aircon: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Aircon.svg\",\n    Heating: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Heating.svg\",\n    \"Pots and pans\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/pots+and+pans.svg\",\n    Wifi: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Wifi.svg\",\n    \"Dining table\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Dining+table.svg\",\n    Pool: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Pool.svg\",\n    Kitchen: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Kitchen.svg\",\n    Bedding: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/hotel+bed.png\",\n    Iron: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Iron.svg\",\n    Safe: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Safe.svg\",\n    Lift: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Lift.svg\",\n    Dryer: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Dryer.svg\",\n    Gym: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Gym.svg\",\n    BBQ: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/BBQ.svg\",\n    \"Hair Dryer\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Hair+dryer.svg\",\n    Spa: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Spa.svg\",\n    Office: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Office.svg\",\n    Towels: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Towels.svg\",\n    Toiletries: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Toiletries.svg\",\n    Parking: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Parking.svg\",\n    Dishwasher: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Dishwasher.svg\",\n    Cutlery: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Cutlery.svg\",\n    TV: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/TV.svg\",\n    \"Alarm system\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Alarm+system.svg\",\n    Alarm: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Alarm.svg\",\n    \"Apple TV\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Apple+TV.svg\",\n    Arcade: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Arcade.svg\",\n    \"Baby bath\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Baby+bath.svg\",\n    \"Baby monitor\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Baby+monitor.svg\",\n    Babysitting: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Babysitting.svg\",\n    Backyard: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Backyard.svg\",\n    Balcony: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Balcony.svg\",\n    Bar: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Bar.svg\",\n    Bathtub: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Bathtub.svg\",\n    \"BBQ utensils\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/BBQ+utensils.svg\",\n    \"Beach essentials\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Beach+essentials.svg\",\n    Bicycle: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Bicycle.svg\",\n    Bidet: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Bidet.svg\",\n    Boat: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Boat.svg\",\n    Books: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Books.svg\",\n    \"Bread maker\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Bread+maker.svg\",\n    \"Carbon monoxide detector\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Carbon+monoxide+detector.svg\",\n    \"Ceiling hoist\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Ceiling+hoist.svg\",\n    \"Chef's kitchen\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Chef's+kitchen.svg\",\n    \"Child friendly utensils\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Child+friendly+utensils.svg\",\n    \"Children's books\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Children's+books.svg\",\n    Cinema: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Cinema.svg\",\n    \"Cleaning products\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Cleaning+products.svg\",\n    Conditioner: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Conditioner.svg\",\n    \"Cooking basics\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Cooking+basics.svg\",\n    Deadbolt: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Deadbolt.svg\",\n    \"Disney plus\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Disney+plus.svg\",\n    \"Dry cleaning\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Dry+cleaning.svg\",\n    \"EV charger\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/EV+charger.svg\",\n    \"Fire extinguisher\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Fire+extinguisher.svg\",\n    \"Fire pit\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Fire+pit.svg\",\n    Fireplace: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Fireplace.svg\",\n    \"First aid kit\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/First+aid+kit.svg\",\n    Foxtel: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Foxtel.svg\",\n    Fridge: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Fridge.svg\",\n    Golf: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Golf.svg\",\n    \"Hair dryer\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Hair+dryer.svg\",\n    Hangers: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Hangers.svg\",\n    HBO: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/HBO.svg\",\n    \"High chair\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/High+chair.svg\",\n    \"High speed internet\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/High+speed+internet.svg\",\n    \"Hot tub\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Hot+tub.svg\",\n    \"Hotel bed\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/hotel+bed.svg\",\n    \"Ice maker\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Ice+maker.svg\",\n    Kettle: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Kettle.svg\",\n    \"Keycard access\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Keycard+access.svg\",\n    \"Luggage storage\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Luggage+storage.svg\",\n    Microwave: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Microwave.svg\",\n    \"Mini fridge\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Mini+fridge.svg\",\n    \"Mosquito net\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Mosquito+net.svg\",\n    Netflix: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Netflix.svg\",\n    \"Nintendo switch\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Nintendo+switch.svg\",\n    \"Outdoor shower\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Outdoor+shower.svg\",\n    \"Outlet covers\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Outlet+covers.svg\",\n    Oven: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Oven.svg\",\n    Piano: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Piano.svg\",\n    \"Ping pong\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Ping+pong.svg\",\n    \"Pizza oven\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Pizza+oven.svg\",\n    Playstation: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Playstation.svg\",\n    \"Pool table\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Pool+table.svg\",\n    Prime: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Prime.svg\",\n    Printer: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Printer.svg\",\n    \"Rain shower\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Rain+shower.svg\",\n    \"Reception desk\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Reception+desk.svg\",\n    \"Record player\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Record+player.svg\",\n    \"Rice maker\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Rice+maker.svg\",\n    \"Room service\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Room+service.svg\",\n    \"Safety gate\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Safety+gate.svg\",\n    Shampoo: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Shampoo.svg\",\n    \"Smoke detector\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Smoke+detector.svg\",\n    Soap: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Soap.svg\",\n    Speakers: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Speakers.svg\",\n    Spices: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Spices.svg\",\n    Stove: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Stove.svg\",\n    \"Tea and coffee\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Tea+and+coffee.svg\",\n    \"Tennis court\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Tennis+court.svg\",\n    Thermomix: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Thermomix.svg\",\n    Toaster: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Toaster.svg\",\n    Toys: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Toys.svg\",\n    \"Trash compactor\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Trash+compactor.svg\",\n    Vacuum: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Vacuum.svg\",\n    \"Video games\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Video+games.svg\",\n    Wardrobe: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Wardrobe.svg\",\n    \"Wheelchair access\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Wheelchair+access.svg\",\n    \"Wide doorways\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Wide+doorways.svg\",\n    \"Wood stove\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Wood+stove.svg\",\n    Xbox: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Xbox.svg\",\n    \"Free parking\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Parking.svg\",\n    Linen: \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Linen.svg\",\n    \"Paid parking\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Parking.svg\",\n    \"Street parking\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Parking.svg\",\n    \"Valet parking\": \"https://d292awxalydr86.cloudfront.net/Amenities+icons/Parking.svg\",\n    default: \"\",\n};\n\nfunction getAmenitieSrc(amenitie: string) {\n    return amenitiesSrc[amenitie as keyof typeof amenitiesSrc] || amenitiesSrc[\"default\"];\n}\n\nexport default function ViewListingAmenitiesList({ amenities, title, cardQty }: { amenities: string[]; title: string; cardQty: number }) {\n    let [getAllCards, setGetAllCards] = useState(false);\n    if (amenities.length === 0) return null;\n    const validAmenities = amenities.filter((amenitie) => amenitiesSrc[amenitie as keyof typeof amenitiesSrc]);\n\n    return (\n        <ViewListingAmenitiesListWrapper>\n            <ViewListingAmenitiesListTitle>{title}</ViewListingAmenitiesListTitle>\n            <ViewListingAmenitiesListContainer>\n                {getAllCards && validAmenities\n                    ? validAmenities.map((amenitie) => {\n                          const imgSrc = getAmenitieSrc(amenitie);\n                          return imgSrc !== amenitiesSrc.default ? <ViewListingAmenitiesListItemCard key={amenitie} img={imgSrc} title={amenitie} /> : null;\n                      })\n                    : validAmenities.slice(0, cardQty).map((amenitie) => {\n                          const imgSrc = getAmenitieSrc(amenitie);\n                          return imgSrc !== amenitiesSrc.default ? <ViewListingAmenitiesListItemCard key={amenitie} img={imgSrc} title={amenitie} /> : null;\n                      })}\n            </ViewListingAmenitiesListContainer>\n            {validAmenities.length > 10 ? (\n                <ViewListingAmenitiesMoreButton type=\"button\" onClick={() => setGetAllCards(!getAllCards)}>\n                    {getAllCards ? `Hide amenities` : `See ${validAmenities.length} amenities`}\n                </ViewListingAmenitiesMoreButton>\n            ) : null}\n        </ViewListingAmenitiesListWrapper>\n    );\n}\n\nfunction ViewListingAmenitiesListItemCard({ img, title }: { img: string; title: string }) {\n    return (\n        <ViewListingAmenitiesListItem>\n            <ViewListingAmenitiesListItemIcon src={img} alt={\"Amenities Icon\"} />\n            <ViewListingAmenitiesListItemText>{title}</ViewListingAmenitiesListItemText>\n        </ViewListingAmenitiesListItem>\n    );\n}\n","import { useMemo, useEffect, useState } from \"react\";\nimport {\n    ViewListingReviewsTitle,\n    ViewListingReservationDivider,\n    ViewListingReviewsSubtitle,\n    ViewListingReviewsAverageAttributesWrapper,\n    ViewListingReviewsAverageAttribute,\n    ViewListingReviewsAverageAttributeTitle,\n    ViewListingReviewsAverageAttributeRating,\n    ViewListingReviewsAverageAttributeRatingInner,\n    ViewListingReviewsReviewWrapper,\n    ViewListingReviewsReviewText,\n    ViewListingReviewsReviewDate,\n    ViewListingReviewsReviewImage,\n    ViewListingReviewsReviewName,\n    ViewListingReviewsWrapper,\n    ViewListingReviewsItemWrapper,\n    ViewListingReviewsHeaderWrapper,\n    ViewListingReviewsHeaderRating,\n    ViewListingReviewsHeader,\n    ViewListingReviewsHeaderRatingTitle,\n    ViewListingReviewsCommentSwiper,\n    ViewListingReviewsCommentSwiperWrapper,\n    ViewListingReviewsSeeAllReviewBtn,\n    ViewListingReviewsHeaderDivider,\n    ViewListingNoReviewsTitle,\n    ViewListingNoReviewsCommentWrapper,\n    ViewListingNoReviewsCommentTitle,\n    ViewListingNoReviewsCommentSubtitle,\n    ReadMoreButton,\n    ViewListingReviewsExternalPopup,\n} from \"../viewListingStyling\";\nimport { ListingInterface } from \"../viewListing\";\nimport { ReviewStayModel } from \"../../../interfaces/models/reviewStayModel\";\nimport constructOptimisedProtectedImageUrl from \"../../../utils/imageOptimisation/constructOptimisedProtectedImageUrl\";\nimport useClickOutside from \"../../../hook/useClickOutside\";\n\nconst attributes = [\n    { title: \"Communication\", fieldName: \"communicationAverage\" },\n    { title: \"Amenities\", fieldName: \"amenitiesAverage\" },\n    { title: \"Cleaning\", fieldName: \"cleaningAverage\" },\n    { title: \"Location\", fieldName: \"locationAverage\" },\n    { title: \"Service\", fieldName: \"serviceAverage\" },\n    { title: \"Value\", fieldName: \"valueAverage\" },\n];\n\ntype ListingKey = keyof ListingInterface;\n\nexport default function ViewListingReviews({ listing, reviews, toggleSeeReview }: { listing: ListingInterface; reviews: ReviewStayModel[]; toggleSeeReview: () => Promise<void> }) {\n    const renderReview = useMemo(() => {\n        let reviewsData = [];\n        for (let i = 0; i < reviews.length; i++) {\n            if (reviews[i].body && !reviews[i].hidden) {\n                reviewsData.push(reviews[i]);\n            }\n        }\n        return reviewsData;\n    }, [reviews]);\n    return (\n        <ViewListingReviewsWrapper>\n            <ViewListingReviewsHeaderWrapper>\n                {listing.overallAverage > 0 ? (\n                    <>\n                        <ViewListingReviewsHeaderRating>\n                            <ViewListingReviewsHeaderRatingTitle>{((listing.overallAverage / 10) * 2).toFixed(1)}</ViewListingReviewsHeaderRatingTitle>\n                        </ViewListingReviewsHeaderRating>\n                        <ViewListingReviewsHeaderDivider />\n                        <ViewListingReviewsHeader>\n                            <ViewListingReviewsTitle>\n                                {reviews.length} {reviews.length > 1 ? \"reviews\" : \"review\"}\n                            </ViewListingReviewsTitle>\n                            <ViewListingReviewsSubtitle>Rated {((listing.overallAverage / 10) * 2).toFixed(1)} out of 10 on average</ViewListingReviewsSubtitle>\n                        </ViewListingReviewsHeader>\n                    </>\n                ) : (\n                    <ViewListingReviewsHeader>\n                        <ViewListingNoReviewsTitle>No reviews yet</ViewListingNoReviewsTitle>\n                        <ViewListingReviewsSubtitle>This place has not been reviewed yet</ViewListingReviewsSubtitle>\n                    </ViewListingReviewsHeader>\n                )}\n            </ViewListingReviewsHeaderWrapper>\n\n            <ViewListingReviewsAverageAttributesWrapper>\n                {attributes.map((item) => {\n                    return (\n                        <ViewListingReviewsAverageAttribute key={item.fieldName}>\n                            <ViewListingReviewsAverageAttributeTitle>{item.title}</ViewListingReviewsAverageAttributeTitle>\n                            <ViewListingReviewsAverageAttributeRating>\n                                <ViewListingReviewsAverageAttributeRatingInner value={(listing[item.fieldName as ListingKey] as number) / 10}></ViewListingReviewsAverageAttributeRatingInner>\n                            </ViewListingReviewsAverageAttributeRating>\n                        </ViewListingReviewsAverageAttribute>\n                    );\n                })}\n            </ViewListingReviewsAverageAttributesWrapper>\n            <ViewListingReservationDivider />\n            {renderReview && reviews.length > 0 ? (\n                <ViewListingReviewsCommentSwiperWrapper isShow={renderReview.length > 0}>\n                    <ViewListingReviewsCommentSwiper>\n                        <ViewListingReviewsItemWrapper>\n                            {renderReview.map((review, index) => {\n                                return <Review review={review} key={index} />;\n                            })}\n                        </ViewListingReviewsItemWrapper>\n                    </ViewListingReviewsCommentSwiper>\n                </ViewListingReviewsCommentSwiperWrapper>\n            ) : (\n                <ViewListingNoReviewsCommentWrapper>\n                    <ViewListingNoReviewsCommentTitle>Be the first review here</ViewListingNoReviewsCommentTitle>\n                    <ViewListingNoReviewsCommentSubtitle>\n                        Reviews will appear here after this <br />\n                        listing has been rated\n                    </ViewListingNoReviewsCommentSubtitle>\n                </ViewListingNoReviewsCommentWrapper>\n            )}\n\n            {renderReview && renderReview.length > 6 && <ViewListingReviewsSeeAllReviewBtn onClick={toggleSeeReview}>See {renderReview.length} reviews</ViewListingReviewsSeeAllReviewBtn>}\n        </ViewListingReviewsWrapper>\n    );\n}\n\nfunction Review({ review }: { review: ReviewStayModel }) {\n    const [reviewOwnerProfilePictureURL, setReviewOwnerProfilePictureURL] = useState<string>(\"https://d292awxalydr86.cloudfront.net/Settings+page/Profile+photo+placeholder.png\");\n\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const [externalSource, setExternalSource] = useState(false);\n    const handleClick = () => {\n        setExternalSource(!externalSource);\n    };\n    const wrapperRef = useClickOutside(externalSource, handleClick, true);\n    useEffect(() => {\n        if (review?.UserModel?.profilePicture) {\n            const reviewOwnerProfilePic = constructOptimisedProtectedImageUrl(review.UserModel.profilePicture, review.UserModel.identityID, 100);\n            setReviewOwnerProfilePictureURL(reviewOwnerProfilePic);\n        }\n    }, [review]);\n\n    if (!review.body) return null;\n    return (\n        <ViewListingReviewsReviewWrapper>\n            <div style={{ display: \"flex\" }}>\n                <ViewListingReviewsReviewImage src={reviewOwnerProfilePictureURL} alt=\"Picture of the guest who made the review\" onClick={handleClick} />\n                <div style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", maxHeight: \"100%\" }}>\n                    <ViewListingReviewsReviewName>{review?.UserModel?.firstName ? review.UserModel.firstName : review.externalUserFirstName}</ViewListingReviewsReviewName>\n                    <ViewListingReviewsReviewDate>{new Date(review.createdAt).toLocaleDateString(\"en-AU\", { month: \"short\", year: \"numeric\" })}</ViewListingReviewsReviewDate>\n                </div>\n            </div>\n            {externalSource && !review.usermodelID && (\n                <ViewListingReviewsExternalPopup ref={wrapperRef}>\n                    This review was made from a trusted external source. <strong style={{ textDecoration: \"underline\" }}>Learn more</strong>\n                </ViewListingReviewsExternalPopup>\n            )}\n            <ViewListingReviewsReviewText>\n                {isExpanded ? (review.body.length > 100 ? review.body.slice(0, 100) + \"...\" : review.body) : review.body}{\" \"}\n                {review.body.length > 50 && <ReadMoreButton onClick={() => setIsExpanded(!isExpanded)}>{isExpanded ? \"Read more\" : \"Show less\"}</ReadMoreButton>}\n            </ViewListingReviewsReviewText>\n        </ViewListingReviewsReviewWrapper>\n    );\n}\n","import { ViewListingAboutLocationWrapper, ViewListingAboutLocationTitle, ViewListingAboutLocationSubtitle, ViewListingMapWrapper } from \"../viewListingStyling\";\nimport Map from \"../../../components/map/map\";\nimport useIsDesktopSize from \"../../../hook/useIsDesktopSize\";\nimport { ListingInterface } from \"../viewListing\";\n\nexport default function ViewListingAboutLocation({ hasReviews, listing, lat, lng }: { hasReviews: boolean; listing: ListingInterface; lat: number; lng: number }) {\n    const isDesktopSize = useIsDesktopSize();\n    return (\n        <ViewListingAboutLocationWrapper>\n            <ViewListingAboutLocationTitle>\n                {listing.suburb}, {listing.state}\n            </ViewListingAboutLocationTitle>\n            <ViewListingMapWrapper>\n                <Map\n                    containerStyle={{\n                        width: \"100%\",\n                        height: \"105%\",\n                        position: \"absolute\",\n                        bottom: -25,\n                        borderRadius: \"12px\",\n                    }}\n                    lat={lat}\n                    lng={lng}\n                    zoom={16}\n                    minZoom={13}\n                    zoomControl={isDesktopSize ? true : false}\n                    scrollWheelZoom={false}\n                />\n            </ViewListingMapWrapper>\n            <ViewListingAboutLocationSubtitle>\n                {listing.suburb}, {listing.state}, Australia\n            </ViewListingAboutLocationSubtitle>\n        </ViewListingAboutLocationWrapper>\n    );\n}\n","import {\n    ViewListingExpandableSectionWrapper,\n    ViewListingExpandableSectionTitle,\n    ViewListingExpandableSectionSubtitle,\n    ViewListingExpandableSectionContainer,\n    ViewListingDamageDepositText,\n    ViewListingDamageDepositLink,\n} from \"../viewListingStyling\";\n\nexport default function ViewListingExpandableSection({ deposit }: { deposit: number }) {\n    return (\n        <ViewListingExpandableSectionContainer>\n            <ViewListingExpandableSectionWrapper>\n                <ViewListingExpandableSectionTitle>Safety & deposit</ViewListingExpandableSectionTitle>\n\n                <ViewListingExpandableSectionSubtitle>\n                    {deposit ? (\n                        <ViewListingDamageDepositText>\n                            <strong style={{ fontWeight: 575 }}>Your host may charge a ${Number(deposit / 100).toFixed(2)} deposit.</strong>\n                            <br />\n                            This is usually processed at check-in, your host will provide more information.{\" \"}\n                            <ViewListingDamageDepositLink href=\"https://help.anystay.com.au/en/articles/7007403-deposits\" target=\"_blank\">\n                                Learn more\n                            </ViewListingDamageDepositLink>\n                        </ViewListingDamageDepositText>\n                    ) : (\n                        <ViewListingDamageDepositText>\n                            <strong style={{ fontWeight: 600 }}>No deposit.</strong> You don't have to pay a deposit. However, you may still be liable for damages. Your host will provide more\n                            information.\n                        </ViewListingDamageDepositText>\n                    )}\n                </ViewListingExpandableSectionSubtitle>\n            </ViewListingExpandableSectionWrapper>\n        </ViewListingExpandableSectionContainer>\n    );\n}\n","import {\n    ViewListingExpandableSectionWrapper,\n    ViewListingExpandableSectionTitle,\n    ViewListingExpandableSectionContainer,\n    ViewListingHouseRulesIconWrapper,\n    ViewListingHouseRulesIcon,\n    ViewListingHouseRulesText,\n    ViewListingHouseRulesIconsWrapper,\n} from \"../viewListingStyling\";\n\ninterface ViewListingHouseRulesSectionProps {\n    points: string[];\n    checkInTime: number;\n    checkOutTime: number;\n    title: string;\n}\n\nexport default function ViewListingHouseRulesSection({ points, checkInTime, checkOutTime, title }: ViewListingHouseRulesSectionProps) {\n    const getTime = (time: number) => {\n        const timeMap: { [key: number]: string } = {\n            100: \"1am\",\n            200: \"2am\",\n            300: \"3am\",\n            400: \"4am\",\n            500: \"5am\",\n            600: \"6am\",\n            700: \"7am\",\n            800: \"8am\",\n            900: \"9am\",\n            1000: \"10am\",\n            1100: \"11am\",\n            1200: \"12pm\",\n            1300: \"1pm\",\n            1400: \"2pm\",\n            1500: \"3pm\",\n            1600: \"4pm\",\n            1700: \"5pm\",\n            1800: \"6pm\",\n            1900: \"7pm\",\n            2000: \"8pm\",\n            2100: \"9pm\",\n            2200: \"10pm\",\n            2300: \"11pm\",\n            2400: \"12am\",\n        };\n        return timeMap[time] || \"\";\n    };\n\n    const pointsData = [`Check-in after ${checkInTime ? `${getTime(checkInTime)}` : \"3pm\"}`, `Check-out before ${checkOutTime ? `${getTime(checkOutTime)}` : \"11am\"}`, ...points];\n\n    const getHouseRuleIcon = (houseRule: string) => {\n        if (houseRule.startsWith(\"Check-in\")) {\n            return \"https://d292awxalydr86.cloudfront.net/Listing+page+icons/Check-in.svg\";\n        } else if (houseRule.startsWith(\"Check-out\")) {\n            return \"https://d292awxalydr86.cloudfront.net/Listing+page+icons/Check+out.svg\";\n        } else {\n            switch (houseRule) {\n                case \"No smoking\":\n                    return \"https://d292awxalydr86.cloudfront.net/House+rules+icons/No+smoking.svg\";\n                case \"No events\":\n                    return \"https://d292awxalydr86.cloudfront.net/House+rules+icons/No+events.svg\";\n                case \"No pets\":\n                    return \"https://d292awxalydr86.cloudfront.net/House+rules+icons/No+pets.svg\";\n                case \"No parties\":\n                    return \"https://d292awxalydr86.cloudfront.net/House+rules+icons/No+events.svg\";\n                case \"Commercial use\":\n                    return \"https://d292awxalydr86.cloudfront.net/House+rules+icons/Commercial+use.svg\";\n                case \"No instruments\":\n                    return \"https://d292awxalydr86.cloudfront.net/House+rules+icons/No+instruments.svg\";\n                case \"No children\":\n                    return \"https://d292awxalydr86.cloudfront.net/House+rules+icons/No+children.svg\";\n                case \"No infants\":\n                    return \"https://d292awxalydr86.cloudfront.net/House+rules+icons/No+infants.svg\";\n                case \"No alcohol\":\n                    return \"https://d292awxalydr86.cloudfront.net/House+rules+icons/No+alcohol.svg\";\n                case \"Male only\":\n                    return \"https://d292awxalydr86.cloudfront.net/House+rules+icons/Male+only.svg\";\n                case \"Female only\":\n                    return \"https://d292awxalydr86.cloudfront.net/House+rules+icons/Female+only.svg\";\n                default:\n                    return \"https://d292awxalydr86.cloudfront.net/Listing+page+icons/Bedrooms.svg\";\n            }\n        }\n    };\n    if (!pointsData) return null;\n\n    return (\n        <ViewListingExpandableSectionContainer>\n            <ViewListingExpandableSectionWrapper>\n                <ViewListingExpandableSectionTitle>{title}</ViewListingExpandableSectionTitle>\n\n                {/* <ViewListingHouseRulesTitleWrapper>\n                            <ViewListingHouseRulesIcon src={getHouseRuleIcon(props.points.length > 0 ? props.points[0] : \"\")} alt=\"House rule icon\" />\n                            <ViewListingHouseRulesText>{points.length > 0 ? points[0] : \"None found\"}</ViewListingHouseRulesText>\n                        </ViewListingHouseRulesTitleWrapper> */}\n\n                {/* <ViewListingExpandableSectionSubtitle>\n                        {expanded || window.innerWidth > 768 &&  props.points.length > 1 ?\n                            null\n                            :\n                            props.points.length > 0 ?\n                                props.points[0]\n                                :\n                                'None found'\n                        }\n                    </ViewListingExpandableSectionSubtitle> */}\n                {/* <ViewListingExpandableSectionButton\n                        src={\"https://d292awxalydr86.cloudfront.net/Universal+icons/Arrow.svg\"}\n                        alt={\"Exapandable section open/close button\"}\n                        style={rotated()}\n                    /> */}\n            </ViewListingExpandableSectionWrapper>\n            <ViewListingHouseRulesIconsWrapper>\n                {pointsData.map(function (point, i) {\n                    return (\n                        <ViewListingHouseRulesIconWrapper key={i}>\n                            <ViewListingHouseRulesIcon src={getHouseRuleIcon(point)} alt=\"House rule icon\" />\n                            <ViewListingHouseRulesText>{point}</ViewListingHouseRulesText>\n                        </ViewListingHouseRulesIconWrapper>\n                    );\n                })}\n            </ViewListingHouseRulesIconsWrapper>\n        </ViewListingExpandableSectionContainer>\n    );\n}\n","import {\n    ViewListingExpandableSectionWrapper,\n    ViewListingExpandableSectionTitle,\n    ViewListingExpandableSectionSubtitle,\n    ViewListingExpandableSectionContainerCancel,\n    ViewListingDamageDepositText,\n    ViewListingDamageDepositLink,\n} from \"../viewListingStyling\";\n\nexport default function ViewListingExpandableCancellationSection({ cancellationPolicy, title }: { cancellationPolicy: string; title: string }) {\n    let getText = () => {\n        switch (cancellationPolicy) {\n            case \"flexible\":\n                return (\n                    <ViewListingDamageDepositText style={{ margin: 0 }}>\n                        You will get a full refund of unspent nights minus service fee and cleaning fee if applied.{\" \"}\n                        <ViewListingDamageDepositLink href=\"https://help.anystay.com.au/en/articles/7007340-cancellations\" target=\"_blank\">\n                            Learn more\n                        </ViewListingDamageDepositLink>\n                    </ViewListingDamageDepositText>\n                );\n            case \"moderate\":\n                return (\n                    <ViewListingDamageDepositText style={{ margin: 0 }}>\n                        You will get a 50% refund of unspent nights minus service fee and cleaning fee if applied.{\" \"}\n                        <ViewListingDamageDepositLink href=\"https://help.anystay.com.au/en/articles/7007340-cancellations\" target=\"_blank\">\n                            Learn more\n                        </ViewListingDamageDepositLink>\n                    </ViewListingDamageDepositText>\n                );\n            case \"strict\":\n                return (\n                    <ViewListingDamageDepositText style={{ margin: 0 }}>\n                        If you cancel, you won’t be refunded except in an exceptional circumstance.{\" \"}\n                        <ViewListingDamageDepositLink href=\"https://help.anystay.com.au/en/articles/7007340-cancellations\" target=\"_blank\">\n                            Learn more\n                        </ViewListingDamageDepositLink>\n                    </ViewListingDamageDepositText>\n                );\n            default:\n                return \"\";\n        }\n    };\n\n    return (\n        <ViewListingExpandableSectionContainerCancel>\n            <ViewListingExpandableSectionWrapper>\n                <ViewListingExpandableSectionTitle>{title}</ViewListingExpandableSectionTitle>\n            </ViewListingExpandableSectionWrapper>\n            <ViewListingExpandableSectionSubtitle style={{ marginTop: \"8px\" }}>{getText()}</ViewListingExpandableSectionSubtitle>\n        </ViewListingExpandableSectionContainerCancel>\n    );\n}\n","import { useState } from \"react\";\nimport { UserModel } from \"../../../interfaces/models/userModel\";\nimport { ListingInterface } from \"../viewListing\";\nimport {\n    ViewListingOwnerSectionWrapper,\n    ViewListingOwnerSectionImage,\n    ViewListingOwnerSectionTitleWrapper,\n    ViewListingOwnerSectionTitle,\n    ViewListingOwnerSectionSubtitle,\n    ViewListingOwnerSectionQuestionButton,\n    ViewListingOwnerSectionText,\n    ViewListingHeaderProfileImageWrapper,\n    ViewListingHeaderProfileImageVerified,\n    ViewListingOwnerSectionButton,\n    ViewListingOwnerSectionQuestionWrapper,\n    ViewListingOwnerSectionPartWrapper,\n    ReadMoreButton,\n} from \"../viewListingStyling\";\nimport { useNavigate } from \"react-router-dom\";\n\ninterface ExtendedListingInterface extends ListingInterface {\n    straID?: string;\n}\n\ninterface ViewListingOwnerSectionProps {\n    listingOwnerProfilePictureURL: string;\n    listingOwnerData: UserModel;\n    listing: ExtendedListingInterface;\n    dates: {\n        startDate: string | Date;\n        endDate: string | Date;\n    };\n    toggleSendMessageRequest: () => Promise<void>;\n    toggleSendAMessageBtnClicked: () => Promise<void>;\n    toggleCalendar: () => void;\n    sendAMessageBtnClicked: boolean;\n}\n\nexport default function ViewListingOwnerSection({\n    listingOwnerProfilePictureURL,\n    listingOwnerData,\n    listing,\n    dates,\n    toggleSendMessageRequest,\n    toggleSendAMessageBtnClicked,\n    toggleCalendar,\n    sendAMessageBtnClicked,\n}: ViewListingOwnerSectionProps) {\n    const navigate = useNavigate();\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    return (\n        <ViewListingOwnerSectionWrapper>\n            <ViewListingOwnerSectionPartWrapper>\n                <ViewListingOwnerSectionButton type=\"button\" onClick={() => navigate(`/host/profile/${listingOwnerData.id}`)}>\n                    <ViewListingHeaderProfileImageWrapper>\n                        <ViewListingOwnerSectionImage src={listingOwnerProfilePictureURL} alt=\"Listing owner profile picture\" />\n                        {listingOwnerData.userIDConfirmed && (\n                            <ViewListingHeaderProfileImageVerified src={\"https://d292awxalydr86.cloudfront.net/Universal+icons/Vector.png\"} alt=\"Verified tick\" />\n                        )}\n                    </ViewListingHeaderProfileImageWrapper>\n                    {/* <ViewListingOwnerSectionImage src={url} alt=\"Listing owner profile picture\" /> */}\n                    <ViewListingOwnerSectionTitleWrapper>\n                        <ViewListingOwnerSectionTitle>{listingOwnerData.firstName}</ViewListingOwnerSectionTitle>\n                        <ViewListingOwnerSectionSubtitle>\n                            {listingOwnerData.userIDConfirmed\n                                ? \"Verified host\"\n                                : (new Date(listingOwnerData.createdAt).getTime() - new Date().getTime()) / (1000 * 3600 * 24) <= 14\n                                  ? \"New host\"\n                                  : \"Host\"}\n                        </ViewListingOwnerSectionSubtitle>\n                    </ViewListingOwnerSectionTitleWrapper>\n                </ViewListingOwnerSectionButton>\n            </ViewListingOwnerSectionPartWrapper>\n            <ViewListingOwnerSectionPartWrapper>\n                <ViewListingOwnerSectionText>\n                    {listingOwnerData.profileDescription ? (\n                        isExpanded && listingOwnerData.profileDescription.length > 50 ? (\n                            listingOwnerData.profileDescription.slice(0, 50) + \"...\"\n                        ) : (\n                            listingOwnerData.profileDescription\n                        )\n                    ) : (\n                        <>\n                            <span>{listingOwnerData.firstName} hasn't written about them yet.</span>\n                            &nbsp;Don’t worry, you can still message them to ask questions or see what they’re like.\n                        </>\n                    )}\n                    {listingOwnerData.profileDescription?.length > 50 && (\n                        <>\n                            <br />\n                            <ReadMoreButton onClick={() => setIsExpanded(!isExpanded)}>{isExpanded ? \"Read more\" : \"Show less\"}</ReadMoreButton>\n                        </>\n                    )}\n                    {listing ? (\n                        listing.straID ? (\n                            <>\n                                <br />\n                                <br />\n                                <span>STRA registration:</span>\n                                &nbsp;{listing.straID}\n                            </>\n                        ) : null\n                    ) : null}\n                </ViewListingOwnerSectionText>\n            </ViewListingOwnerSectionPartWrapper>\n            <ViewListingOwnerSectionQuestionWrapper>\n                <ViewListingOwnerSectionQuestionButton\n                    type=\"button\"\n                    onClick={() => {\n                        if (dates.startDate !== \"anyArrival\" && dates.endDate !== \"anyDeparture\") {\n                            toggleSendMessageRequest();\n                            return;\n                        }\n                        //if send a message button is clicked, remember it so that datepicker knows to toggle sendmessage popup as soon as a date is selected\n                        if (!sendAMessageBtnClicked) {\n                            toggleSendAMessageBtnClicked();\n                        }\n                        toggleCalendar();\n                    }}\n                >\n                    Message {listingOwnerData.firstName}\n                </ViewListingOwnerSectionQuestionButton>\n            </ViewListingOwnerSectionQuestionWrapper>\n        </ViewListingOwnerSectionWrapper>\n    );\n}\n","import { Fragment } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ViewListingFooterWrapper, ViewListingFooterButton, ViewListingFooterTitleText, ViewListingFooterTextWrapper, ViewListingFooterSubtitleText } from \"../viewListingStyling\";\nimport { ListingInterface } from \"../viewListing\";\nimport { BookingDetail } from \"../../../interfaces/models/bookingDetail\";\nimport { GuestsInterface } from \"../viewListing\";\n\ninterface ViewListingFooterProps {\n    bookingDetails: BookingDetail | null;\n    dates: {\n        startDate: string | Date;\n        endDate: string | Date;\n    };\n    guests: GuestsInterface;\n    listing: ListingInterface;\n    toggleCalendar: () => void;\n}\n\nexport default function ViewListingFooter({ listing, dates, guests, toggleCalendar, bookingDetails }: ViewListingFooterProps) {\n    return (\n        <Fragment>\n            <ViewListingFooterWrapper>\n                <ViewListingFooterTextWrapper onClick={() => toggleCalendar()}>\n                    {listing && bookingDetails ? (\n                        <ViewListingFooterTitleText>\n                            <span>{bookingDetails.displayItems.subTotalItems[0].amountFormatted} AUD</span>\n                        </ViewListingFooterTitleText>\n                    ) : (\n                        <ViewListingFooterTitleText>\n                            <span>Select dates</span>\n                        </ViewListingFooterTitleText>\n                    )}\n                    <ViewListingFooterSubtitleText underlineActive={dates.startDate !== \"anyArrival\" && dates.endDate !== \"anyDeparture\"}>\n                        {dates.startDate && dates.endDate && dates.startDate !== \"anyArrival\" && dates.endDate !== \"anyArrival\"\n                            ? `${(dates.startDate as Date).toLocaleDateString(\"au\", { month: \"short\", day: \"numeric\" })} - ${(dates.endDate as Date).toLocaleDateString(\"au\", {\n                                  month: \"short\",\n                                  day: \"numeric\",\n                              })}`\n                            : listing && listing.minimumStay > 1\n                              ? `${listing.minimumStay} nights minimum`\n                              : \"No min. stay\"}\n                    </ViewListingFooterSubtitleText>\n                </ViewListingFooterTextWrapper>\n                <FooterReserveButton listingID={listing.id} dates={dates} guests={guests} toggleCalendar={toggleCalendar} />\n            </ViewListingFooterWrapper>\n        </Fragment>\n    );\n}\n\ninterface FooterReserveButtonProps {\n    listingID: string;\n    toggleCalendar: () => void;\n    dates: {\n        startDate: string | Date;\n        endDate: string | Date;\n    };\n    guests: GuestsInterface;\n}\n\nfunction FooterReserveButton({ dates, guests, listingID, toggleCalendar }: FooterReserveButtonProps) {\n    let navigate = useNavigate();\n\n    return (\n        <ViewListingFooterButton\n            type=\"button\"\n            onClick={() => {\n                if (dates.startDate && dates.startDate !== \"anyArrival\" && dates.endDate && dates.endDate !== \"anyDeparture\") {\n                    const arrivalDate = `${String((dates.startDate as Date).getDate()).padStart(2, \"0\")}-${String((dates.startDate as Date).getMonth() + 1).padStart(2, \"0\")}-${(dates.startDate as Date).getFullYear()}`;\n                    const departureDate = `${String((dates.endDate as Date).getDate()).padStart(2, \"0\")}-${String((dates.endDate as Date).getMonth() + 1).padStart(2, \"0\")}-${(dates.endDate as Date).getFullYear()}`;\n                    const adultsString = guests.adults ? `adults=${guests.adults}` : \"\";\n                    const childrenString = guests.children ? `children=${guests.children}` : \"\";\n                    const petsString = guests.pets ? `pets=${guests.pets}` : \"\";\n                    const infantsString = guests.infants ? `infants=${guests.infants}` : \"\";\n                    const searchParamsStrings = [adultsString, childrenString, petsString, infantsString].filter((param) => param !== \"\").join(\"&\");\n\n                    navigate(`/create-booking/${listingID}/${arrivalDate}/${departureDate}${searchParamsStrings ? `?${searchParamsStrings}` : \"\"}`);\n                } else {\n                    toggleCalendar();\n                }\n            }}\n        >\n            {dates.startDate && dates.startDate !== \"anyArrival\" && dates.endDate && dates.endDate !== \"anyDeparture\" ? \"Reserve\" : \"Select dates\"}\n        </ViewListingFooterButton>\n    );\n}\n","import { ReviewStayModel } from \"../../../interfaces/models/reviewStayModel\";\nimport { ListingInterface } from \"../viewListing\";\nimport {\n    ViewListingReviewWrapper,\n    ViewListingReviewBox,\n    ViewListingReviewTitle,\n    ViewListingReviewContentTitle,\n    ViewListingReviewContentHeader,\n    ViewListingReviewContentSubtitle,\n} from \"../viewListingStyling\";\n\ninterface ViewListingReviewPreviewProps {\n    listing: ListingInterface;\n    reviews: ReviewStayModel[];\n}\n\nexport default function ViewListingReviewPreview({ listing, reviews }: ViewListingReviewPreviewProps) {\n    const reviewContent = reviews.find((e) => e.body !== \"\");\n    return (\n        <ViewListingReviewWrapper>\n            <ViewListingReviewBox>\n                <ViewListingReviewTitle reviews={reviews}>{reviews.length !== 0 ? ((listing.overallAverage / 10) * 2).toFixed(1) : \"NEW\"}</ViewListingReviewTitle>\n            </ViewListingReviewBox>\n            <ViewListingReviewContentHeader>\n                <ViewListingReviewContentTitle>\n                    {reviews.length > 0 ? (reviews.length > 1 ? `Rated by ${reviews.length} reviews` : `Rated by ${reviews.length} review`) : \"Be the first to review this place\"}\n                </ViewListingReviewContentTitle>\n                <ViewListingReviewContentSubtitle>\n                    {reviews.length > 0\n                        ? reviewContent\n                            ? reviewContent.body\n                            : \"The user did not leave a review\"\n                        : \"To celebrate this place’s launch on Anystay, a discount has been automatically applied for the next 2 guests\"}\n                </ViewListingReviewContentSubtitle>\n            </ViewListingReviewContentHeader>\n        </ViewListingReviewWrapper>\n    );\n}\n","import styled from \"styled-components\";\nimport { ColorTheme, BorderRadiusTheme, SpacingTheme } from \"../../../components/globaStyledComponents/globalStyledComponentsStyling\";\n\nexport const ViewListingContainer = styled.div`\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    padding-left: 24px;\n    padding-right: 24px;\n\n    @media (min-width: 768px) {\n        margin: 0 auto;\n        padding-left: 32px;\n        padding-right: 32px;\n        max-width: 1184px;\n        padding-bottom: 80px;\n    }\n`;\n\nexport const ViewListingTopContainerWrapper = styled.div`\n    display: flex;\n    width: 100%;\n    gap: ${SpacingTheme.spacing_800.gap};\n`;\nexport const ViewListingTopContainer = styled.div`\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n\n    @media (min-width: 768px) {\n        width: 30%;\n        flex: 1;\n    }\n`;\n\nexport const ViewListingFeaturedImage = styled.div`\n    width: 100%;\n    aspect-ratio: 4/3;\n    background-color: ${ColorTheme.Grey2.color};\n    @media (min-width: 768px) {\n        height: unset;\n        aspect-ratio: 2.5/1;\n        max-height: 720px;\n    }\n`;\n\nexport const ViewListingTitleWrapper = styled.div`\n    width: 100%;\n    margin-top: 32px;\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 24px;\n\n    @media (min-width: 768px) {\n        justify-content: center;\n        margin-bottom: 32px;\n    }\n`;\nexport const ViewListingTitleTitle = styled.div`\n    width: 230px;\n    height: 40px;\n    margin-top: 24px;\n    background-color: ${ColorTheme.Grey2.color};\n    border-radius: 5px;\n    max-width: 80%;\n    @media (min-width: 768px) {\n        width: 420px;\n        margin-top: 0;\n    }\n`;\nexport const ViewListingTitleSubtitle = styled.div`\n    width: 180px;\n    height: 20px;\n    margin-top: 12px;\n    background-color: ${ColorTheme.Grey2.color};\n    border-radius: 5px;\n    @media (min-width: 768px) {\n        width: 356px;\n    }\n`;\n\nexport const ViewListingAmenitiesContainer = styled.div`\n    @media (min-width: 768px) {\n    }\n`;\nexport const ViewListingSubtitleWrapper = styled.div`\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 48px;\n    width: 100%;\n`;\nexport const ViewListingSubtitleTextWrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n`;\n\nexport const ViewListingSubtitlePlaceType = styled.div`\n    width: 100%;\n    height: 25px;\n    background-color: ${ColorTheme.Grey2.color};\n    border-radius: 5px;\n    margin-bottom: 5px;\n    max-width: 60%;\n`;\nexport const ViewListingSubtitleHostedBy = styled.div`\n    width: 100%;\n    height: 25px;\n    background-color: ${ColorTheme.Grey2.color};\n    border-radius: 5px;\n    max-width: 40%;\n`;\nexport const ViewListingHeaderProfileImageWrapper = styled.div`\n    display: grid;\n    grid-row: 1/2;\n    grid-column: 1/2;\n    grid-template-columns: 100%;\n    grid-template-rows: 100%;\n    height: fit-content;\n    width: fit-content;\n    padding: 0;\n    background: none;\n    border: none;\n`;\nexport const ViewListingSubtitleImage = styled.div`\n    grid-row: 1/2;\n    grid-column: 1/2;\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    background-color: ${ColorTheme.Grey2.color};\n    @media (min-width: 768px) {\n        width: 56px;\n        height: 56px;\n    }\n`;\nexport const ViewListingAmenitiesWrapper = styled.div`\n    width: 100%;\n    border: 1px solid ${ColorTheme.Grey2.color};\n    border-radius: ${BorderRadiusTheme.radius_12.borderRadius};\n    display: flex;\n    flex-wrap: wrap;\n    height: 202px;\n    align-content: space-evenly;\n\n    @media (min-width: 768px) {\n        height: 150px;\n    }\n`;\nexport const ViewListingAmenitie = styled.div`\n    width: 50%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: flex-end;\n    @media (min-width: 768px) {\n        width: 25%;\n    }\n`;\nexport const ViewListingAmenitieIcon = styled.div`\n    width: 24px;\n    height: 24px;\n    margin: 0;\n    padding: 0;\n    border-radius: 5px;\n    background-color: ${ColorTheme.Grey2.color};\n    @media (min-width: 768px) {\n        width: 32px;\n        height: 32px;\n    }\n`;\nexport const ViewListingAmenitieText = styled.div`\n    margin-top: 12px;\n    width: 50%;\n    max-width: 90px;\n    height: 17px;\n    border-radius: 5px;\n    background-color: ${ColorTheme.Grey2.color};\n`;\nexport const ViewListingDescriptionWrapper = styled.div`\n    width: 100%;\n    margin: 0;\n    padding: ${SpacingTheme.spacing_400.padding} 0 ${SpacingTheme.spacing_500.padding};\n    border-bottom: 1px solid ${ColorTheme.Grey2.color};\n\n    @media (min-width: 768px) {\n        padding: ${SpacingTheme.spacing_600.padding} 0;\n        border: 0;\n    }\n`;\nexport const ViewListingDescriptionText = styled.div`\n    width: 250px;\n    height: 25px;\n    background-color: ${ColorTheme.Grey2.color};\n    border-radius: 5px;\n`;\n\nexport const ViewListingAboutLocationWrapper = styled.div`\n    width: 100%;\n    padding: ${SpacingTheme.spacing_500.padding} 0;\n    border-top: 1px solid ${ColorTheme.Grey2.color};\n`;\nexport const ViewListingAboutLocationTitle = styled.div`\n    width: 240px;\n    height: 33px;\n    background-color: ${ColorTheme.Grey2.color};\n    border-radius: 5px;\n    margin-bottom: 24px;\n    @media (min-width: 768px) {\n        width: 541px;\n    }\n`;\nexport const ViewListingMapWrapper = styled.div`\n    width: 100%;\n    height: 400px;\n    border-radius: ${BorderRadiusTheme.radius_12.borderRadius};\n    background-color: ${ColorTheme.Grey2.color};\n`;\n","import styled from \"styled-components\";\nimport { ColorTheme, ShadowTheme, BorderRadiusTheme, SpacingTheme } from \"../../../../components/globaStyledComponents/globalStyledComponentsStyling\";\nexport const ViewListingDesktopMenuWrapper = styled.div`\n    display: none;\n\n    @media (min-width: 768px) {\n        width: 376px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    }\n`;\nexport const ViewListingDesktopMenu = styled.div`\n    width: calc(100% - 32px);\n    border-radius: ${BorderRadiusTheme.radius_12.borderRadius};\n    box-shadow: ${ShadowTheme.shadow_100.boxShadow};\n    border-radius: ${BorderRadiusTheme.radius_12.borderRadius};\n    margin-top: 40px;\n    margin-bottom: 44px;\n    margin-right: 32px;\n    padding: ${SpacingTheme.spacing_350.padding} ${SpacingTheme.spacing_500.padding} ${SpacingTheme.spacing_250.padding};\n    position: relative;\n    top: 0;\n\n    @media (max-width: 767px) {\n        display: none;\n    }\n    @media (min-width: 768px) {\n        width: 375px;\n    }\n    @media (min-width: 1024px) {\n        width: 384px;\n    }\n    @media (min-width: 1280px) {\n        margin-right: 0;\n    }\n`;\nexport const ViewListingDesktopMenuPrice = styled.div`\n    width: 162px;\n    height: 25px;\n    background-color: ${ColorTheme.Grey2.color};\n    border-radius: 5px;\n`;\nexport const ViewListingDesktopMenuDatesWrapper = styled.div`\n    width: 100%;\n    border-radius: 9px;\n    border: 1px solid ${ColorTheme.Grey1.color};\n    display: grid;\n    grid-template-columns: 50% 50%;\n    grid-template-rows: 50% 50%;\n    height: 128px;\n    margin-top: 20px;\n`;\nexport const ViewListingDesktopMenuDatesItem = styled.div`\n    width: 100%;\n    height: 100%;\n    text-align: left;\n    display: flex;\n    padding: 11px 16px;\n    flex-direction: column;\n`;\nexport const ViewListingDesktopMenuDatesItemTitle = styled.div`\n    width: 34px;\n    height: 15px;\n    border-radius: 5px;\n    background-color: ${ColorTheme.Grey2.color};\n    margin-bottom: 5px;\n`;\nexport const ViewListingDesktopMenuDatesItemSubtitle = styled.div`\n    width: 79px;\n    height: 20px;\n    border-radius: 5px;\n    background-color: ${ColorTheme.Grey2.color};\n`;\nexport const ViewListingFooterButton = styled.div`\n    width: 100%;\n    height: 48px;\n    grid-row: 1/2;\n    grid-column: 2/3;\n    border-radius: 9px;\n    background-color: ${ColorTheme.Grey2.color};\n    @media (min-width: 768px) {\n        height: 54px;\n        margin-top: 16px;\n    }\n`;\nexport const ViewListingDesktopMenuDatesSelectSubtitle = styled.div`\n    margin: 0 auto;\n    margin-top: 16px;\n    margin-bottom: 12px;\n    width: 100px;\n    height: 20px;\n    background-color: ${ColorTheme.Grey2.color};\n    border-radius: 5px;\n`;\n","import {\n    ViewListingDesktopMenuWrapper,\n    ViewListingDesktopMenu,\n    ViewListingDesktopMenuPrice,\n    ViewListingDesktopMenuDatesWrapper,\n    ViewListingDesktopMenuDatesItem,\n    ViewListingDesktopMenuDatesItemTitle,\n    ViewListingDesktopMenuDatesItemSubtitle,\n    ViewListingFooterButton,\n    ViewListingDesktopMenuDatesSelectSubtitle,\n} from \"./SkeletonReservationDetailsStyling\";\nimport { ColorTheme } from \"../../../../components/globaStyledComponents/globalStyledComponentsStyling\";\nexport default function SkeletonReservationDetails() {\n    return (\n        <ViewListingDesktopMenuWrapper>\n            <ViewListingDesktopMenu>\n                <ViewListingDesktopMenuPrice />\n                <ViewListingDesktopMenuDatesWrapper>\n                    <ViewListingDesktopMenuDatesItem style={{ gridColumn: \"1/2\" }}>\n                        <ViewListingDesktopMenuDatesItemTitle />\n                        <ViewListingDesktopMenuDatesItemSubtitle />\n                    </ViewListingDesktopMenuDatesItem>\n                    <ViewListingDesktopMenuDatesItem style={{ gridColumn: \"2/3\", borderLeft: `1px solid ${ColorTheme.Grey1.color}` }}>\n                        <ViewListingDesktopMenuDatesItemTitle />\n                        <ViewListingDesktopMenuDatesItemSubtitle />\n                    </ViewListingDesktopMenuDatesItem>\n                    <ViewListingDesktopMenuDatesItem style={{ gridColumn: \"1/3\", borderTop: `1px solid ${ColorTheme.Grey1.color}` }}>\n                        <ViewListingDesktopMenuDatesItemTitle />\n                        <ViewListingDesktopMenuDatesItemSubtitle />\n                    </ViewListingDesktopMenuDatesItem>\n                </ViewListingDesktopMenuDatesWrapper>\n                <ViewListingFooterButton />\n                <ViewListingDesktopMenuDatesSelectSubtitle />\n            </ViewListingDesktopMenu>\n        </ViewListingDesktopMenuWrapper>\n    );\n}\n","import {\n    ViewListingContainer,\n    ViewListingFeaturedImage,\n    ViewListingTitleWrapper,\n    ViewListingTitleTitle,\n    ViewListingAmenitiesContainer,\n    ViewListingSubtitleWrapper,\n    ViewListingSubtitlePlaceType,\n    ViewListingSubtitleHostedBy,\n    ViewListingSubtitleTextWrapper,\n    ViewListingHeaderProfileImageWrapper,\n    ViewListingSubtitleImage,\n    ViewListingAmenitiesWrapper,\n    ViewListingAmenitie,\n    ViewListingAmenitieIcon,\n    ViewListingAmenitieText,\n    ViewListingDescriptionWrapper,\n    ViewListingDescriptionText,\n    ViewListingAboutLocationWrapper,\n    ViewListingAboutLocationTitle,\n    ViewListingMapWrapper,\n    ViewListingTopContainerWrapper,\n    ViewListingTopContainer,\n} from \"./skeletonViewListingPageStyling\";\nimport SkeletonReservationDetails from \"./skeletonReservationDetails/SkeletonReservationDetails\";\n\nexport default function SkeletonViewListingPage() {\n    return (\n        <>\n            <ViewListingFeaturedImage />\n            <ViewListingContainer>\n                <ViewListingTopContainerWrapper>\n                    <ViewListingTopContainer>\n                        <ViewListingTitleWrapper>\n                            <ViewListingTitleTitle />\n                        </ViewListingTitleWrapper>\n                        <ViewListingAmenitiesContainer>\n                            <ViewListingSubtitleWrapper>\n                                <ViewListingSubtitleTextWrapper>\n                                    <ViewListingSubtitlePlaceType />\n                                    <ViewListingSubtitleHostedBy />\n                                </ViewListingSubtitleTextWrapper>\n                                <ViewListingHeaderProfileImageWrapper>\n                                    <ViewListingSubtitleImage />\n                                </ViewListingHeaderProfileImageWrapper>\n                            </ViewListingSubtitleWrapper>\n                            <ViewListingAmenitiesWrapper>\n                                <ViewListingAmenitie>\n                                    <ViewListingAmenitieIcon />\n                                    <ViewListingAmenitieText />\n                                </ViewListingAmenitie>\n                                <ViewListingAmenitie>\n                                    <ViewListingAmenitieIcon />\n                                    <ViewListingAmenitieText />\n                                </ViewListingAmenitie>\n                                <ViewListingAmenitie>\n                                    <ViewListingAmenitieIcon />\n                                    <ViewListingAmenitieText />\n                                </ViewListingAmenitie>\n                                <ViewListingAmenitie>\n                                    <ViewListingAmenitieIcon />\n                                    <ViewListingAmenitieText />\n                                </ViewListingAmenitie>\n                            </ViewListingAmenitiesWrapper>\n                        </ViewListingAmenitiesContainer>\n                        <ViewListingDescriptionWrapper>\n                            <ViewListingDescriptionText />\n                        </ViewListingDescriptionWrapper>\n                    </ViewListingTopContainer>\n                    <SkeletonReservationDetails />\n                </ViewListingTopContainerWrapper>\n\n                <ViewListingAboutLocationWrapper>\n                    <ViewListingAboutLocationTitle />\n                    <ViewListingMapWrapper />\n                </ViewListingAboutLocationWrapper>\n            </ViewListingContainer>\n        </>\n    );\n}\n","import {\n    ViewListingSendMessageRequestWrapper,\n    ViewListingSendMessageRequestTitle,\n    ViewListingSendMessageRequestSubtitle,\n    ViewListingSendMessageRequestTextInput,\n    ViewListingSendMessageRequestSentTitleWrapper,\n    ViewListingSendMessageRequestSentTitle,\n    ViewListingSendMessageRequestSentHeader,\n    ViewListingSendMessageRequestSentImage,\n    ViewListingSendMessageRequestSentHeaderTitle,\n    ViewListingSendMessageRequestSentHeaderSubtitle,\n    ViewListingSendMessageRequestSentHeaderPrice,\n    ViewListingSendMessageRequestSentHeaderTotalWrapper,\n    ViewListingSendMessageRequestSentHeaderSubtotal,\n    ViewListingSendMessageRequestSentHeaderTotal,\n} from \"../viewListingStyling\";\nimport { callApi } from \"../../../utils/api/api\";\nimport moment from \"moment-timezone\";\nimport { momentTimezone } from \"@mobiscroll/react\";\nimport useClickOutside from \"../../../hook/useClickOutside\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { ListingInterface } from \"../viewListing\";\nimport { BookingDetail } from \"../../../interfaces/models/bookingDetail\";\nimport constructOptimisedImageUrl from \"../../../utils/imageOptimisation/constructOptimisedImageUrl\";\nimport { GuestsInterface } from \"../viewListing\";\nimport GlobalPopupContainerCenter from \"../../../components/globalPopup/GlobalPopupContainerCenter\";\n\nmomentTimezone.moment = moment;\n\ninterface SendMessageRequestPopupProps {\n    selected: boolean;\n    toggleSelected: () => Promise<void>;\n    listing: ListingInterface;\n    dates: {\n        startDate: string | Date;\n        endDate: string | Date;\n    };\n    guests: GuestsInterface;\n    accessToken: string;\n    bookingDetails: BookingDetail | null;\n    sendMessageEvent: any;\n}\n\nexport default function SendMessageRequestPopup({ selected, toggleSelected, guests, listing, dates, accessToken, bookingDetails, sendMessageEvent }: SendMessageRequestPopupProps) {\n    const wrapperRef = useClickOutside(selected, toggleSelected);\n    const [messageSent, setMessageSent] = useState(false);\n    const [isContinueBtnLoading, setIsContinueBtnLoading] = useState(false);\n    const [message, setMessage] = useState(\"\");\n    const navigate = useNavigate();\n\n    const getPlaceType = (placeType: string) => {\n        switch (placeType) {\n            case \"entire-place\":\n                return \"Entire home\";\n            case \"private-room\":\n                return \"Private room\";\n            case \"shared-room\":\n                return \"Shared room\";\n            default:\n                break;\n        }\n    };\n\n    const sendMsg = async () => {\n        await callApi(\"put\", `${process.env.REACT_APP_ENV}-anystay-booking`, \"conversation\", {\n            headers: {\n                Authorization: accessToken,\n            },\n            body: {\n                // userHostModelId: listing.userhostmodelID,\n                listingModelId: listing.id,\n                // messageownerId: userModel.id,\n                message: message,\n                arrivalDate: dates.startDate.toString(),\n                departureDate: dates.endDate.toString(),\n                // userModelId: userModel.id,\n            },\n        })\n            .then(async (res) => {\n                setMessageSent(true);\n                setMessage(\"\");\n                sendMessageEvent(listing.id, dates.startDate.toString(), dates.endDate.toString(), message);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    };\n\n    const handleSave = async () => {\n        setIsContinueBtnLoading(true);\n        await sendMsg();\n        setIsContinueBtnLoading(false);\n    };\n\n    const handleClose = () => {\n        toggleSelected();\n    };\n\n    const handleReserve = () => {\n        const arrivalDate = `${String((dates.startDate as Date).getDate()).padStart(2, \"0\")}-${String((dates.startDate as Date).getMonth() + 1).padStart(2, \"0\")}-${(dates.startDate as Date).getFullYear()}`;\n\n        const departureDate = `${String((dates.endDate as Date).getDate()).padStart(2, \"0\")}-${String((dates.endDate as Date).getMonth() + 1).padStart(2, \"0\")}-${(dates.endDate as Date).getFullYear()}`;\n\n        const adultsString = guests.adults ? `adults=${guests.adults}` : \"\";\n        const childrenString = guests.children ? `children=${guests.children}` : \"\";\n        const petsString = guests.pets ? `pets=${guests.pets}` : \"\";\n        const infantsString = guests.infants ? `infants=${guests.infants}` : \"\";\n        const searchParamsStrings = [adultsString, childrenString, petsString, infantsString].filter((param) => param !== \"\").join(\"&\");\n\n        navigate(`/create-booking/${listing.id}/${arrivalDate}/${departureDate}${searchParamsStrings ? `?${searchParamsStrings}` : \"\"}`);\n    };\n\n    return (\n        <>\n            {!messageSent && (\n                <GlobalPopupContainerCenter\n                    ref={wrapperRef}\n                    backBtnType={\"Arrow\"}\n                    closePopup={handleClose}\n                    handleSave={handleSave}\n                    disable={message === \"\" || isContinueBtnLoading}\n                    isContinueBtnLoading={isContinueBtnLoading}\n                    btnColor=\"red\"\n                    btnText=\"Send\"\n                >\n                    <ViewListingSendMessageRequestWrapper style={{ marginTop: \"44px\" }}>\n                        <ViewListingSendMessageRequestTitle>Send a message</ViewListingSendMessageRequestTitle>\n                        <ViewListingSendMessageRequestSubtitle>You can ask about the property and its surroundings.</ViewListingSendMessageRequestSubtitle>\n                        <ViewListingSendMessageRequestTextInput placeholder=\"Type your message\" onChange={(e) => setMessage(e.target.value)} value={message} maxLength={4096} />\n                    </ViewListingSendMessageRequestWrapper>\n                </GlobalPopupContainerCenter>\n            )}\n            {messageSent && (\n                <GlobalPopupContainerCenter ref={wrapperRef} backBtnType={\"Arrow\"} closePopup={handleClose} handleSave={handleReserve} btnColor=\"red\" btnText=\"Reserve\" cancelBtnText=\"Go to listing\">\n                    <ViewListingSendMessageRequestWrapper>\n                        <ViewListingSendMessageRequestSentTitleWrapper>\n                            <ViewListingSendMessageRequestSentTitle>Message sent!</ViewListingSendMessageRequestSentTitle>\n                        </ViewListingSendMessageRequestSentTitleWrapper>\n                        <ViewListingSendMessageRequestSentHeader>\n                            <ViewListingSendMessageRequestSentImage src={constructOptimisedImageUrl(JSON.parse(listing.listingImages[0] as string).key, 500)} alt=\"Message sent\" />\n                            <div style={{ display: \"flex\", flexDirection: \"column\", overflow: \"hidden\" }}>\n                                <ViewListingSendMessageRequestSentHeaderTitle>{getPlaceType(listing.typeOfPlace)}</ViewListingSendMessageRequestSentHeaderTitle>\n                                <ViewListingSendMessageRequestSentHeaderSubtitle>{listing.propertyTitle}</ViewListingSendMessageRequestSentHeaderSubtitle>\n                                <ViewListingSendMessageRequestSentHeaderPrice>\n                                    <span>${Number(listing.minimumPrice / 100).toFixed(2)} AUD</span> / night\n                                </ViewListingSendMessageRequestSentHeaderPrice>\n                            </div>\n                        </ViewListingSendMessageRequestSentHeader>\n                        <ViewListingSendMessageRequestSentHeaderTotalWrapper>\n                            {bookingDetails && (\n                                <>\n                                    {bookingDetails.displayItems.priceItems\n                                        .filter((item) => item.label !== \"Deposit\")\n                                        .map((item) => {\n                                            return (\n                                                <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: \"12px\" }} key={item.label}>\n                                                    <ViewListingSendMessageRequestSentHeaderSubtotal>{item.label}</ViewListingSendMessageRequestSentHeaderSubtotal>\n                                                    <ViewListingSendMessageRequestSentHeaderSubtotal>{item.amountFormatted}</ViewListingSendMessageRequestSentHeaderSubtotal>\n                                                </div>\n                                            );\n                                        })}\n                                    {bookingDetails.displayItems.subTotalItems.map((item, index) => {\n                                        if (item.label === \"Total (AUD)\") {\n                                            return (\n                                                <div style={{ display: \"flex\", justifyContent: \"space-between\" }} key={item.label}>\n                                                    <ViewListingSendMessageRequestSentHeaderTotal style={{ fontWeight: \"600\" }}>{item.label}</ViewListingSendMessageRequestSentHeaderTotal>\n                                                    <ViewListingSendMessageRequestSentHeaderTotal style={{ fontWeight: \"600\" }}>{item.amountFormatted}</ViewListingSendMessageRequestSentHeaderTotal>\n                                                </div>\n                                            );\n                                        }\n                                    })}\n                                </>\n                            )}\n                        </ViewListingSendMessageRequestSentHeaderTotalWrapper>\n                    </ViewListingSendMessageRequestWrapper>\n                </GlobalPopupContainerCenter>\n            )}\n        </>\n    );\n}\n","import { ViewListingFooterButton } from \"../viewListingStyling\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ListingInterface } from \"../viewListing\";\nimport { GuestsInterface } from \"../viewListing\";\ninterface DesktopReserveButtonProps {\n    dates: {\n        startDate: string | Date;\n        endDate: string | Date;\n    };\n    listing: ListingInterface;\n    toggleCalendar: () => void;\n    guests: GuestsInterface;\n}\n\nexport default function DesktopReserveButton({ dates, listing, toggleCalendar, guests }: DesktopReserveButtonProps) {\n    const navigate = useNavigate();\n    //prepare for url\n\n    const renderBtnContent = () => {\n        if (listing.approved === false || listing.status === \"inactive\") {\n            return \"Listing inactive\";\n        } else if (!(dates.startDate && dates.startDate !== \"anyArrival\" && dates.endDate && dates.endDate !== \"anyDeparture\")) {\n            return \"Select dates\";\n        } else {\n            return \"Reserve\";\n        }\n    };\n    const btnOnClick = () => {\n        if (renderBtnContent() === \"Select dates\") {\n            toggleCalendar();\n        } else {\n            const arrivalDate = `${String((dates.startDate as Date).getDate()).padStart(2, \"0\")}-${String((dates.startDate as Date).getMonth() + 1).padStart(2, \"0\")}-${(dates.startDate as Date).getFullYear()}`;\n            const departureDate = `${String((dates.endDate as Date).getDate()).padStart(2, \"0\")}-${String((dates.endDate as Date).getMonth() + 1).padStart(2, \"0\")}-${(dates.endDate as Date).getFullYear()}`;\n\n            const adultsString = guests.adults ? `adults=${guests.adults}` : \"\";\n            const childrenString = guests.children ? `children=${guests.children}` : \"\";\n            const petsString = guests.pets ? `pets=${guests.pets}` : \"\";\n            const infantsString = guests.infants ? `infants=${guests.infants}` : \"\";\n            const searchParamsStrings = [adultsString, childrenString, petsString, infantsString].filter((param) => param !== \"\").join(\"&\");\n\n            navigate(`/create-booking/${listing.id}/${arrivalDate}/${departureDate}${searchParamsStrings ? `?${searchParamsStrings}` : \"\"}`);\n        }\n    };\n\n    return (\n        <ViewListingFooterButton\n            type=\"button\"\n            onClick={btnOnClick}\n            disabled={listing.approved === false || listing.status === \"inactive\"}\n            inactive={listing.approved === false || listing.status === \"inactive\"}\n        >\n            {renderBtnContent()}\n        </ViewListingFooterButton>\n    );\n}\n","import {\n    ViewListingReservationDatepickerLabelWrapper,\n    ViewListingDesktopMenuWrapper,\n    ViewListingDesktopMenu,\n    ViewListingDesktopMenuPrice,\n    ViewListingDesktopMenuDatesItem,\n    ViewListingDesktopMenuDatesItemTitle,\n    ViewListingDesktopMenuDatesItemSubtitle,\n    ViewListingDesktopMenuDatesWrapper,\n    ViewListingDesktopMenuDatesSelectSubtitle,\n    ViewListingDesktopMenuDatesSubtotal,\n    ViewListingDesktopMenuDatesDivider,\n    ViewListingDesktopMenuDatesTotal,\n} from \"../viewListingStyling\";\nimport DesktopReserveButton from \"../sections/viewListingDesktopReserveButton\";\nimport NightlyPriceBreakdownPopup from \"../../../components/nightlyPriceBreakdownPopup/NightlyPriceBreakdownPopup\";\nimport { ColorTheme } from \"../../../components/globaStyledComponents/globalStyledComponentsStyling\";\nimport { BookingDetail } from \"../../../interfaces/models/bookingDetail\";\nimport { ListingInterface } from \"../viewListing\";\n\ninterface ViewListingReservationDetailsProps {\n    dates: { startDate: string | Date; endDate: string | Date };\n    bookingDetails: BookingDetail | null;\n    listing: ListingInterface;\n    toggleCalendar: () => void;\n    toggleGuests: () => void;\n    guests: { adults: number; children: number; infants: number; pets: number };\n    toggleNightlyPriceBreakdownPopup: () => void;\n    nightlyPriceBreakdownPopupActive: boolean;\n}\n\nexport default function ViewListingReservationDetails({\n    dates,\n    bookingDetails,\n    listing,\n    toggleCalendar,\n    toggleGuests,\n    guests,\n    toggleNightlyPriceBreakdownPopup,\n    nightlyPriceBreakdownPopupActive,\n}: ViewListingReservationDetailsProps) {\n    const formatGuestsValue = () => {\n        let guestsArray = [];\n        if (guests.adults === 0) {\n            return \"Select Guests\";\n        }\n        if (guests.adults) {\n            guestsArray.push(`${guests.adults} ${guests.adults > 1 ? \"adults\" : \"adult\"}`);\n        }\n        if (guests.children) {\n            guestsArray.push(`${guests.children} ${guests.children > 1 ? \"children\" : \"child\"}`);\n        }\n        if (guests.infants) {\n            guestsArray.push(`${guests.infants} ${guests.infants > 1 ? \"infants\" : \"infant\"}`);\n        }\n        if (guests.pets) {\n            guestsArray.push(`${guests.pets} ${guests.pets > 1 ? \"pets\" : \"pet\"}`);\n        }\n        return guestsArray.join(\", \");\n    };\n\n    return (\n        <ViewListingDesktopMenuWrapper>\n            <ViewListingDesktopMenu>\n                {bookingDetails ? (\n                    bookingDetails.displayItems.subTotalItems[0] ? (\n                        <ViewListingDesktopMenuPrice>\n                            <span>{bookingDetails.displayItems.subTotalItems[0]?.amountFormatted} AUD</span> total\n                        </ViewListingDesktopMenuPrice>\n                    ) : (\n                        <ViewListingDesktopMenuPrice>\n                            <span>${Number(bookingDetails.pricePerNight / 100).toFixed(2)} AUD</span> / night\n                        </ViewListingDesktopMenuPrice>\n                    )\n                ) : (\n                    <ViewListingDesktopMenuPrice>\n                        <span>${Number(listing.minimumPrice / 100).toFixed(2)} AUD</span> / night\n                    </ViewListingDesktopMenuPrice>\n                )}\n                <ViewListingDesktopMenuDatesWrapper>\n                    <ViewListingDesktopMenuDatesItem onClick={() => toggleCalendar()} type=\"button\" style={{ gridColumn: \"1/2\" }}>\n                        <ViewListingDesktopMenuDatesItemTitle>Arrive</ViewListingDesktopMenuDatesItemTitle>\n                        <ViewListingDesktopMenuDatesItemSubtitle>\n                            {dates.startDate && dates.startDate !== \"anyArrival\"\n                                ? `${String(new Date(dates.startDate).getDate()).padStart(2, \"0\")}/${String(new Date(dates.startDate).getMonth() + 1).padStart(2, \"0\")}/${String(\n                                      new Date(dates.startDate).getFullYear()\n                                  ).padStart(2, \"0\")}`\n                                : \"Add date\"}\n                        </ViewListingDesktopMenuDatesItemSubtitle>\n                    </ViewListingDesktopMenuDatesItem>\n                    <ViewListingDesktopMenuDatesItem onClick={() => toggleCalendar()} type=\"button\" style={{ gridColumn: \"2/3\", borderLeft: `1px solid ${ColorTheme.Grey1.color}` }}>\n                        <ViewListingDesktopMenuDatesItemTitle>Depart</ViewListingDesktopMenuDatesItemTitle>\n                        <ViewListingDesktopMenuDatesItemSubtitle>\n                            {dates.endDate && dates.endDate !== \"anyDeparture\"\n                                ? `${String(new Date(dates.endDate).getDate()).padStart(2, \"0\")}/${String(new Date(dates.endDate).getMonth() + 1).padStart(2, \"0\")}/${String(\n                                      new Date(dates.endDate).getFullYear()\n                                  ).padStart(2, \"0\")}`\n                                : \"Add date\"}\n                        </ViewListingDesktopMenuDatesItemSubtitle>\n                    </ViewListingDesktopMenuDatesItem>\n                    <ViewListingDesktopMenuDatesItem style={{ gridColumn: \"1/3\", borderTop: `1px solid ${ColorTheme.Grey1.color}` }} onClick={toggleGuests}>\n                        <ViewListingDesktopMenuDatesItemTitle>Guests</ViewListingDesktopMenuDatesItemTitle>\n                        <ViewListingDesktopMenuDatesItemSubtitle>{formatGuestsValue()}</ViewListingDesktopMenuDatesItemSubtitle>\n                    </ViewListingDesktopMenuDatesItem>\n                </ViewListingDesktopMenuDatesWrapper>\n                <DesktopReserveButton toggleCalendar={toggleCalendar} dates={dates} guests={guests} listing={listing} />\n                <ViewListingDesktopMenuDatesSelectSubtitle>\n                    {dates.startDate !== \"anyArrival\" && dates.endDate !== \"anyDeparture\"\n                        ? \"Price shown is your total price including fees and taxes.\"\n                        : listing.minimumStay\n                          ? `${listing.minimumStay} ${listing.minimumStay === 1 ? \"night\" : \"nights\"} minimum`\n                          : \"No min. stay\"}\n                </ViewListingDesktopMenuDatesSelectSubtitle>\n                {bookingDetails && (\n                    <>\n                        {bookingDetails.displayItems.priceItems\n                            .filter((item) => item.label !== \"Deposit\")\n                            .map((item, index) => {\n                                const showBreakdown = index === 0;\n                                return (\n                                    <ViewListingReservationDatepickerLabelWrapper key={item.label}>\n                                        <ViewListingDesktopMenuDatesSubtotal\n                                            showBreakdown={showBreakdown}\n                                            onClick={() => {\n                                                if (showBreakdown) {\n                                                    toggleNightlyPriceBreakdownPopup();\n                                                }\n                                            }}\n                                        >\n                                            {item.label}\n                                        </ViewListingDesktopMenuDatesSubtotal>\n                                        <ViewListingDesktopMenuDatesSubtotal>{item.amountFormatted}</ViewListingDesktopMenuDatesSubtotal>\n                                        {showBreakdown && nightlyPriceBreakdownPopupActive && bookingDetails && (\n                                            <NightlyPriceBreakdownPopup bookingDetails={bookingDetails} toggleModal={toggleNightlyPriceBreakdownPopup} />\n                                        )}\n                                    </ViewListingReservationDatepickerLabelWrapper>\n                                );\n                            })}\n                        <ViewListingDesktopMenuDatesDivider />\n                        {bookingDetails.displayItems.subTotalItems.map((item, index) => {\n                            if (item.label === \"Total (AUD)\")\n                                return (\n                                    <ViewListingReservationDatepickerLabelWrapper key={item.label}>\n                                        <ViewListingDesktopMenuDatesTotal style={{ fontWeight: \"600\", marginBottom: \"12px\" }}>{item.label}</ViewListingDesktopMenuDatesTotal>\n                                        <ViewListingDesktopMenuDatesTotal style={{ fontWeight: \"600\", marginBottom: \"12px\" }}>{item.amountFormatted}</ViewListingDesktopMenuDatesTotal>\n                                    </ViewListingReservationDatepickerLabelWrapper>\n                                );\n                            return null;\n                        })}\n                    </>\n                )}\n            </ViewListingDesktopMenu>\n        </ViewListingDesktopMenuWrapper>\n    );\n}\n","import { useState, useEffect } from \"react\";\nimport {\n    ShareListingPopupWrapper,\n    ShareListingPopupTitleWrapper,\n    ShareListingPopupTitle,\n    ShareListingPopupHeaderWrapper,\n    ShareListingPopupHeaderImage,\n    ShareListingPopupHeaderPlaceType,\n    ShareListingPopupHeaderText,\n    ShareListingPopupHeaderTextPrice,\n    ShareListingDivider,\n    ShareListingDoneButton,\n    IndividualShareButton,\n    IndividualShareButtonIcon,\n    IndividualShareButtonText,\n    IndividualEmailShareButton,\n    IndividualFacebookShareButton,\n    IndividualTwitterShareButton,\n} from \"../viewListingStyling\";\nimport CopiedToClipboardPortal from \"../../../components/popupNotification/copiedToClipboard/CopiedToClipboard\";\nimport { AnimatePresence } from \"framer-motion\";\nimport useClickOutside from \"../../../hook/useClickOutside\";\nimport { ListingInterface } from \"../viewListing\";\nimport constructOptimisedImageUrl from \"../../../utils/imageOptimisation/constructOptimisedImageUrl\";\nimport GlobalPopupContainerCenter from \"../../../components/globalPopup/GlobalPopupContainerCenter\";\n\nexport default function ShareListingPopup({ listing, selected, toggleShareListing }: { listing: ListingInterface; selected: boolean; toggleShareListing: () => Promise<void> }) {\n    const [copied, setCopied] = useState(false);\n    const wrapperRef = useClickOutside(selected, toggleShareListing);\n\n    useEffect(() => {\n        if (copied) {\n            const timeout = setTimeout(() => {\n                setCopied(false);\n            }, 2000);\n            // Clear the timeout when the component unmounts or copied state changes\n            return () => clearTimeout(timeout);\n        }\n    }, [copied]);\n\n    const getPlaceType = (placeType: string) => {\n        switch (placeType) {\n            case \"entire-place\":\n                return \"Entire place\";\n            case \"hotel-room\":\n                return \"Hotel room\";\n            case \"private-room\":\n                return \"Private room\";\n            case \"shared-room\":\n                return \"Shared room\";\n            default:\n                break;\n        }\n    };\n\n    return (\n        <GlobalPopupContainerCenter ref={wrapperRef} backBtnType={\"Arrow\"} closePopup={toggleShareListing} noContinueBtn={true}>\n            <ShareListingPopupWrapper>\n                <ShareListingPopupTitleWrapper>\n                    <ShareListingPopupTitle>Share listing</ShareListingPopupTitle>\n                </ShareListingPopupTitleWrapper>\n                <ShareListingPopupHeaderWrapper>\n                    <ShareListingPopupHeaderImage src={constructOptimisedImageUrl(JSON.parse(listing.listingImages[0] as string).key, 500)} alt={\"Listing image\"} />\n                    <div style={{ gridRow: \"1/2\", gridColumn: \"2/3\", display: \"flex\", flexDirection: \"column\" }}>\n                        <ShareListingPopupHeaderPlaceType>{getPlaceType(listing.typeOfPlace)}</ShareListingPopupHeaderPlaceType>\n                        <ShareListingPopupHeaderText>{listing.propertyTitle}</ShareListingPopupHeaderText>\n                        <ShareListingPopupHeaderTextPrice>\n                            <span>${Number(listing.minimumPrice / 100).toFixed(2)} AUD</span> / night\n                        </ShareListingPopupHeaderTextPrice>\n                    </div>\n                </ShareListingPopupHeaderWrapper>\n                <div style={{ width: \"100%\", display: \"grid\", gridTemplateColumns: \"calc(50% - 8px) calc(50% - 8px)\", gap: \"16px\", padding: \"32px 0\" }}>\n                    <IndividualFacebookShareButton quote={\"Check out Anystay!\"} url={\"https://anystay.com.au\"} hashtag={\"#anystay\"}>\n                        <IndividualShareButtonIcon src={\"https://d292awxalydr86.cloudfront.net/Social-Icons/Facebook.svg\"} alt={\"Icon\"} />\n                        <IndividualShareButtonText>Facebook</IndividualShareButtonText>\n                    </IndividualFacebookShareButton>\n                    <IndividualEmailShareButton\n                        url={\"https://anystay.com.au\"}\n                        subject={`Come check out: ${listing.propertyTitle}!`}\n                        separator={\" \"}\n                        body={\"Come check out the listing I will be staying at!\"}\n                    >\n                        <IndividualShareButtonIcon src={\"https://d292awxalydr86.cloudfront.net/Social-Icons/Email.svg\"} alt={\"Icon\"} />\n                        <IndividualShareButtonText>Email</IndividualShareButtonText>\n                    </IndividualEmailShareButton>\n                    <IndividualTwitterShareButton title={\"Check out Anystay!\"} url={\"https://anystay.com.au\"} hashtags={[\"#anystay\"]}>\n                        <IndividualShareButtonIcon src={\"https://d292awxalydr86.cloudfront.net/Social-Icons/Twitter+3.svg\"} alt={\"Icon\"} />\n                        <IndividualShareButtonText>Twitter</IndividualShareButtonText>\n                    </IndividualTwitterShareButton>\n                    <IndividualShareButton\n                        onClick={() => {\n                            navigator.clipboard.writeText(`http://anystay.com.au/listing/${listing.id}`);\n                            setCopied(true);\n                        }}\n                    >\n                        <IndividualShareButtonIcon style={{ height: \"24px\", width: \"24px\" }} src={\"https://d292awxalydr86.cloudfront.net/Social-Icons/Duplicate+2.svg\"} alt={\"Icon\"} />\n                        <IndividualShareButtonText>{copied ? \"Copied\" : \"Copy link\"}</IndividualShareButtonText>\n                        <AnimatePresence>{copied && <CopiedToClipboardPortal />}</AnimatePresence>\n                    </IndividualShareButton>\n                </div>\n\n                <ShareListingDivider />\n                <ShareListingDoneButton type=\"button\" onClick={toggleShareListing}>\n                    Done\n                </ShareListingDoneButton>\n            </ShareListingPopupWrapper>\n        </GlobalPopupContainerCenter>\n    );\n}\n","import { useState, useEffect, useMemo } from \"react\";\nimport {\n    ViewListingReviewPop,\n    ViewListingReviewPopCloseBtnWrapper,\n    ViewListingReviewPopCloseBtnIcon,\n    ViewListingReviewPopWrapper,\n    ViewListingReviewsHeaderWrapper,\n    ViewListingReviewsHeader,\n    ViewListingReviewPopTitle,\n    ViewListingReviewsSubtitle,\n    ViewListingReviewsAverageAttribute,\n    ViewListingReviewsAverageAttributeTitle,\n    ViewListingReviewsAverageAttributeRating,\n    ViewListingReviewsAverageAttributeRatingInner,\n    ViewListingReservationDivider,\n    ViewListingReviewPopReviewWrapper,\n    ViewListingReviewsReviewImage,\n    ViewListingReviewsReviewName,\n    ViewListingReviewsReviewDate,\n    ViewListingReviewsReviewText,\n    ViewListingReviewPopSwiperWrapper,\n    ViewListingReviewPopItemWrapper,\n    ViewListingReviewPopRateWrapper,\n} from \"../viewListingStyling\";\nimport { ListingInterface } from \"../viewListing\";\nimport { ReviewStayModel } from \"../../../interfaces/models/reviewStayModel\";\nimport constructOptimisedProtectedImageUrl from \"../../../utils/imageOptimisation/constructOptimisedProtectedImageUrl\";\n\ninterface ReviewPopupProps {\n    listing: ListingInterface;\n    reviews: ReviewStayModel[];\n    toggleSeeReview: () => Promise<void>;\n    isReview: boolean;\n}\n\nexport default function ReviewPopup({ listing, reviews, toggleSeeReview, isReview }: ReviewPopupProps) {\n    const attributes = [\n        { title: \"Communication\", fieldName: \"communicationAverage\" },\n        { title: \"Amenities\", fieldName: \"amenitiesAverage\" },\n        { title: \"Cleaning\", fieldName: \"cleaningAverage\" },\n        { title: \"Location\", fieldName: \"locationAverage\" },\n        { title: \"Service\", fieldName: \"serviceAverage\" },\n        { title: \"Value\", fieldName: \"valueAverage\" },\n    ];\n\n    const renderReview = useMemo(() => {\n        let reviewsData = [];\n        for (let i = 0; i < reviews.length; i++) {\n            if (reviews[i].body && !reviews[i].hidden) {\n                reviewsData.push(reviews[i]);\n            }\n        }\n        return reviewsData;\n    }, [reviews]);\n\n    return (\n        <ViewListingReviewPop>\n            <ViewListingReviewPopCloseBtnWrapper onClick={toggleSeeReview}>\n                <ViewListingReviewPopCloseBtnIcon src={\"https://d292awxalydr86.cloudfront.net/Universal+icons/Cross.svg\"} alt=\"Close filter button\" />\n            </ViewListingReviewPopCloseBtnWrapper>\n            <ViewListingReviewPopWrapper>\n                <ViewListingReviewsHeaderWrapper>\n                    <ViewListingReviewsHeader>\n                        <ViewListingReviewPopTitle>\n                            {reviews.length} {reviews.length > 1 ? \"reviews\" : \"review\"}\n                        </ViewListingReviewPopTitle>\n                        <ViewListingReviewsSubtitle>Rated {((listing.overallAverage / 10) * 2).toFixed(1)} out of 10 on average</ViewListingReviewsSubtitle>\n                    </ViewListingReviewsHeader>\n                </ViewListingReviewsHeaderWrapper>\n\n                <ViewListingReviewPopRateWrapper>\n                    {attributes.map((item) => {\n                        return (\n                            <ViewListingReviewsAverageAttribute key={item.fieldName}>\n                                <ViewListingReviewsAverageAttributeTitle>{item.title}</ViewListingReviewsAverageAttributeTitle>\n                                <ViewListingReviewsAverageAttributeRating>\n                                    <ViewListingReviewsAverageAttributeRatingInner\n                                        value={(listing[item.fieldName as keyof ListingInterface] as number) / 10}\n                                    ></ViewListingReviewsAverageAttributeRatingInner>\n                                </ViewListingReviewsAverageAttributeRating>\n                            </ViewListingReviewsAverageAttribute>\n                        );\n                    })}\n                </ViewListingReviewPopRateWrapper>\n                <ViewListingReservationDivider />\n                <ViewListingReviewPopSwiperWrapper>\n                    <ViewListingReviewPopItemWrapper>\n                        {renderReview.map((review, index) => {\n                            return <Review review={review} key={index} />;\n                        })}\n                    </ViewListingReviewPopItemWrapper>\n                </ViewListingReviewPopSwiperWrapper>\n            </ViewListingReviewPopWrapper>\n        </ViewListingReviewPop>\n    );\n}\n\nfunction Review({ review }: { review: ReviewStayModel }) {\n    const [reviewOwnerProfilePictureURL, setReviewOwnerProfilePictureURL] = useState<string>(\"https://d292awxalydr86.cloudfront.net/Settings+page/Profile+photo+placeholder.png\");\n\n    useEffect(() => {\n        if (review?.UserModel?.profilePicture) {\n            const reviewOwnerProfilePic = constructOptimisedProtectedImageUrl(review.UserModel.profilePicture, review.UserModel.identityID, 100);\n            setReviewOwnerProfilePictureURL(reviewOwnerProfilePic);\n        }\n    }, [review]);\n\n    if (!review.body) return null;\n\n    return (\n        <ViewListingReviewPopReviewWrapper>\n            {review && (\n                <div style={{ display: \"flex\" }}>\n                    <ViewListingReviewsReviewImage src={reviewOwnerProfilePictureURL} alt=\"Picture of the guest who made the review\" />\n                    <div style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", maxHeight: \"100%\" }}>\n                        <ViewListingReviewsReviewName>{review?.UserModel?.firstName}</ViewListingReviewsReviewName>\n                        <ViewListingReviewsReviewDate>{new Date(review.createdAt).toLocaleDateString(\"en-AU\", { month: \"short\", year: \"numeric\" })}</ViewListingReviewsReviewDate>\n                    </div>\n                </div>\n            )}\n            <ViewListingReviewsReviewText>{review.body}</ViewListingReviewsReviewText>\n        </ViewListingReviewPopReviewWrapper>\n    );\n}\n","import constructOptimisedImageUrl from \"../../../utils/imageOptimisation/constructOptimisedImageUrl\";\n\nconst formatAmenities = (amenities: string[]) => {\n    let formattedAmenities: any[] = [];\n\n    amenities?.map((amenity: any) => {\n        formattedAmenities.push({\n            \"@type\": \"LocationFeatureSpecification\",\n            name: amenity,\n            value: true,\n        });\n    });\n\n    return formattedAmenities;\n};\n\nconst checkPetsAllowed = (houseRules: string[]) => {\n    let petsAllowed = true;\n\n    houseRules?.forEach((rule) => {\n        if (rule.toLowerCase().includes(\"no pets\")) {\n            petsAllowed = false;\n        }\n    });\n\n    return petsAllowed;\n};\n\nconst checkSmokingAllowed = (houseRules: string[]) => {\n    let smokingAllowed = true;\n\n    houseRules?.forEach((rule) => {\n        if (rule.toLowerCase().includes(\"no smoking\")) {\n            smokingAllowed = false;\n        }\n    });\n\n    return smokingAllowed;\n};\n\nconst formatCheckInCheckOutTime = (time: string) => {\n    if (time) {\n        const timeString = time.toString().padStart(4, \"0\");\n        return timeString.slice(0, 2) + \":\" + timeString.slice(2);\n    }\n};\n\nconst getCancellationPolicy = (cancellationPolicy: string) => {\n    switch (cancellationPolicy) {\n        case \"flexible\":\n            return \"You will get a full refund of unspent nights minus service fee and cleaning fee if applied.\";\n        case \"moderate\":\n            return \"You will get a 50% refund of unspent nights minus service fee and cleaning fee if applied.\";\n        case \"strict\":\n            return \"If you cancel, you won’t be refunded except in an exceptional circumstance.\";\n        default:\n            return \"\";\n    }\n};\n\nconst getAdditionalProperties = (listing: any) => {\n    let additionalProperties = [];\n\n    if (listing && listing.cleaningFee && listing.cleaningFee > 0) {\n        additionalProperties.push({\n            \"@type\": \"PropertyValue\",\n            name: \"Cleaning Fee\",\n            value: `$${Number(listing.cleaningFee / 100).toFixed(2)}`,\n        });\n    }\n\n    if (listing && listing.deposit && listing.deposit > 0) {\n        additionalProperties.push({\n            \"@type\": \"PropertyValue\",\n            name: \"Security Deposit\",\n            value: `$${Number(listing.deposit / 100).toFixed(2)}`,\n        });\n    }\n};\n\nconst getReviews = (reviews: any) => {\n    let formattedReviews: any[] = [];\n\n    if (reviews && reviews.length > 0) {\n        reviews.map((review: any) => {\n            formattedReviews.push({\n                \"@type\": \"Review\",\n                reviewRating: {\n                    \"@type\": \"Rating\",\n                    ratingValue: review.rating,\n                    bestRating: \"5\",\n                },\n                author: {\n                    \"@type\": \"Person\",\n                    name: review?.UserModel?.firstName ? `${review?.UserModel?.firstName} ${review?.UserModel?.lastName}` : `${review?.externalFirstName} ${review?.externalLastName}`,\n                },\n                datePublished: review.date,\n                reviewBody: review.body,\n            });\n        });\n    }\n\n    return formattedReviews;\n};\n\nexport const generateJsonLd = (listing: any) => {\n    const jsonLd = {\n        \"@context\": \"https://schema.org\",\n        \"@type\": \"VacationRental\",\n        name: `${listing?.propertyTitle}`,\n        description: `${listing?.propertyDescription}`,\n        url: `https://anystay.com.au/listing/${listing?.id}`,\n        image: listing?.listingImages?.map((image: any) => constructOptimisedImageUrl(JSON.parse(image as string).key)),\n        priceRange: `$${listing?.minimumPrice} - $500`,\n        address: {\n            \"@type\": \"PostalAddress\",\n            streetAddress: `${listing?.unitNumber ? `${listing?.unitNumber}/` : \"\"}${listing?.streetNumber} ${listing?.street}`,\n            addressLocality: `${listing?.suburb}`,\n            addressRegion: `${listing?.city}`,\n            postalCode: `${listing?.postcode}`,\n            addressCountry: \"AU\",\n        },\n        amenityFeature: formatAmenities(listing?.amenities),\n        numberOfRooms: listing?.RoomModels?.items?.length,\n        numberOfBedrooms: listing?.bedrooms,\n        numberOfBathrooms: listing?.bathrooms,\n        accommodationCategory: `${listing?.propertyType}`,\n        petsAllowed: checkPetsAllowed(listing?.houseRules),\n        maximumAttendeeCapacity: listing?.guests,\n        // \"availabilityStarts\": \"2024-06-01\",\n        // \"availabilityEnds\": \"2024-09-30\",\n        // \"potentialAction\": {\n        // \"@type\": \"ReserveAction\",\n        // \"target\": {\n        //     \"@type\": \"EntryPoint\",\n        //     \"urlTemplate\": \"https://www.yourbookingwebsite.com/book/seaside-villa-retreat?checkIn={checkInDate}&checkOut={checkOutDate}&guests={guestCount}\",\n        //     \"actionPlatform\": [\n        //     \"http://schema.org/DesktopWebPlatform\",\n        //     \"http://schema.org/MobileWebPlatform\",\n        //     \"http://schema.org/IOSPlatform\",\n        //     \"http://schema.org/AndroidPlatform\"\n        //     ]\n        // },\n        // \"result\": {\n        //     \"@type\": \"LodgingReservation\",\n        //     \"name\": \"Seaside Villa Retreat Reservation\"\n        // }\n        // },\n        geo: {\n            \"@type\": \"GeoCoordinates\",\n            latitude: `${listing?.location.lat}`,\n            longitude: `${listing?.location.lon}`,\n        },\n        hasMap: `https://www.google.com/maps?q=${listing?.location.lat},${listing?.location.lon}`,\n        checkinTime: formatCheckInCheckOutTime(listing?.checkInTime),\n        checkoutTime: formatCheckInCheckOutTime(listing?.checkOutTime),\n        smokingAllowed: checkSmokingAllowed(listing?.houseRules),\n        floorSize: {\n            \"@type\": \"QuantitativeValue\",\n            value: listing?.areaValue,\n            unitCode: \"MTR\",\n        },\n        cancelationPolicy: getCancellationPolicy(listing?.cancellationPolicy),\n        // \"availableLanguage\": [\"English\", \"Spanish\", \"French\"],\n        occupancy: {\n            \"@type\": \"QuantitativeValue\",\n            minValue: 1,\n            maxValue: listing?.guests,\n        },\n        additionalProperty: getAdditionalProperties(listing),\n        review: getReviews(listing?.ReviewStayModels?.items),\n        aggregateRating:\n            listing?.ReviewStayModels?.items?.length > 0\n                ? {\n                      \"@type\": \"AggregateRating\",\n                      ratingValue: `${listing?.overallAverage / 10}`,\n                      reviewCount: `${listing?.ReviewStayModels?.items?.length}`,\n                  }\n                : {},\n        // \"offers\": [\n        // {\n        //     \"@type\": \"Offer\",\n        //     \"name\": \"Summer Special\",\n        //     \"description\": \"20% off for stays of 7 nights or more\",\n        //     \"validFrom\": \"2024-06-01\",\n        //     \"validThrough\": \"2024-08-31\"\n        // }\n        // ]\n    };\n\n    return jsonLd;\n};\n","import { useEffect, useRef, useState } from \"react\";\nimport BackBtn from \"../../../components/btn/backBtn/backBtn\";\nimport useIsDesktopSize from \"../../../hook/useIsDesktopSize\";\nimport {\n    HeartIcon,\n    ViewListingIconWrappar,\n    ViewListingSaveAndShareButtonWrapper,\n    ViewListingSaveButtonWrapper,\n    ViewListingShareButtonIcon,\n    ViewListingShareButtonWrapper,\n} from \"../viewListingStyling\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useRecoilState } from \"recoil\";\nimport { userModelSelector } from \"../../../state/selectors/userModel\";\nimport { signInMenuActivatedSelector } from \"../../../state/selectors/navbarToggle\";\nimport { UserModel } from \"../../../interfaces/models/userModel\";\nimport { ListingInterface } from \"../viewListing\";\nimport { ColorTheme } from \"../../../components/globaStyledComponents/globalStyledComponentsStyling\";\n\ninterface ViewListingTopBtnProps {\n    listing: ListingInterface;\n    handleShare: () => Promise<void>;\n    toggleSaved: (listingId: string, userModel: UserModel, accessToken: string) => Promise<void>;\n    toggleShareListing: () => void;\n    isSaved: boolean;\n    accessToken: string;\n    setIsSaved: React.Dispatch<React.SetStateAction<boolean>>;\n    loggedIn: boolean;\n}\n\nexport default function ViewListingTopBtn({ setIsSaved, isSaved, handleShare, toggleShareListing, listing, toggleSaved, accessToken, loggedIn }: ViewListingTopBtnProps) {\n    const isSavedLoading = useRef(false);\n    const [userModel, setUserModel] = useRecoilState(userModelSelector);\n    const [signInMenuActivated, setSignInMenuActivated] = useRecoilState(signInMenuActivatedSelector);\n    const navigate = useNavigate();\n    const isDesktopSize = useIsDesktopSize();\n    const [isSticky, setIsSticky] = useState(false);\n\n    useEffect(() => {\n        const handleScroll = () => {\n            const offset = window.scrollY;\n            setIsSticky(offset > 64);\n        };\n\n        window.addEventListener(\"scroll\", handleScroll);\n\n        return () => {\n            window.removeEventListener(\"scroll\", handleScroll);\n        };\n    }, []);\n\n    const handleToggleSaved = async () => {\n        if (userModel) {\n            if (isSavedLoading.current) return;\n            try {\n                setIsSaved((prev) => !prev);\n                isSavedLoading.current = true;\n                await toggleSaved(listing.id, userModel, accessToken);\n            } catch (err: any) {\n                console.log(err);\n                setIsSaved((prev) => !prev);\n            } finally {\n                isSavedLoading.current = false;\n            }\n        } else {\n            setSignInMenuActivated(true);\n        }\n    };\n    const handleBackBtnClick = () => {\n        if (window.history.length > 2) {\n            navigate(-1);\n        } else {\n            navigate(\"/\");\n        }\n    };\n    return (\n        <ViewListingIconWrappar isSticky={isSticky} loggedIn={loggedIn}>\n            <BackBtn onClick={handleBackBtnClick} type={isDesktopSize ? \"Close\" : \"Arrow\"} hasBackground />\n            <ViewListingSaveAndShareButtonWrapper>\n                <ViewListingSaveButtonWrapper onClick={handleToggleSaved}>\n                    <HeartIcon xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 28 28\">\n                        <path\n                            d=\"M2.26061 13.3918C5.07331 17.4376 8.89663 20.4197 12.8238 23.2792C12.9722 23.3873 13.373 23.3224 13.5518 23.1927C16.4106 21.1187 19.1902 18.9466 21.5963 16.3436C23.5642 14.2148 25.3072 11.9361 26.0237 9.04917C26.8138 5.86965 25.4788 2.5114 22.8246 0.914431C20.2484 -0.634975 16.9311 -0.189611 14.4629 2.05451L14.4198 2.09405C14.1243 2.36677 13.8509 2.66287 13.5765 2.96004C13.443 3.10465 13.3093 3.2495 13.1726 3.39204C13.0119 3.23609 12.8591 3.08852 12.7119 2.94629C12.4578 2.7008 12.2197 2.47076 11.9833 2.23899C11.949 2.20545 11.9146 2.17227 11.8799 2.13945C9.70682 0.0822306 6.68254 -0.554266 4.17227 0.529602C1.6306 1.62644 -0.0576046 4.36492 0.00150402 7.35708C0.0461959 9.62714 1.00058 11.5816 2.26061 13.3918Z\"\n                            fill={isSaved ? `${ColorTheme.Red.color}` : `${ColorTheme.White.color}`}\n                            stroke={isSaved ? `${ColorTheme.Red.color}` : `${ColorTheme.Black.color}`}\n                            transform=\"translate(0.7, 2.5)\"\n                        />\n                    </HeartIcon>\n                </ViewListingSaveButtonWrapper>\n                <ViewListingShareButtonWrapper type=\"button\" onClick={window.innerWidth < 768 ? handleShare : toggleShareListing}>\n                    <ViewListingShareButtonIcon src={\"https://d292awxalydr86.cloudfront.net/Universal+icons/Share.svg\"} alt={\"Share Button\"} />\n                </ViewListingShareButtonWrapper>\n            </ViewListingSaveAndShareButtonWrapper>\n        </ViewListingIconWrappar>\n    );\n}\n","import { useState, useEffect, Fragment, useCallback, useMemo } from \"react\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport {\n    ViewListingContainer,\n    ViewListingCouponHeader,\n    ViewListingCouponHeaderBtn,\n    ViewListingCouponHeaderTitle,\n    ViewListingExapndableDesktopWrapper,\n    ViewListingTopContainer,\n    ViewListingTopContainerWrapper,\n} from \"./viewListingStyling\";\nimport { userModelSelector } from \"../../state/selectors/userModel\";\nimport { accessTokenSelector } from \"../../state/selectors/accessToken\";\nimport { signInMenuActivatedSelector } from \"../../state/selectors/navbarToggle\";\nimport { useRecoilState } from \"recoil\";\nimport Footer from \"../../components/footer/footer\";\nimport { callApi } from \"../../utils/api/api\";\nimport { useNavigate } from \"react-router-dom\";\nimport useIsDesktopSize from \"../../hook/useIsDesktopSize\";\nimport constructOptimisedProtectedImageUrl from \"../../utils/imageOptimisation/constructOptimisedProtectedImageUrl\";\nimport constructOptimisedImageUrl from \"../../utils/imageOptimisation/constructOptimisedImageUrl\";\n\n// Import sections\nimport ViewListingDesktopHeader from \"./sections/viewListingDesktopHeader\";\nimport ViewListingFeaturedImages from \"./sections/viewListingFeaturedImages\";\nimport ViewListingTitle from \"./sections/viewListingTitle\";\nimport ViewListingVerifyListing from \"./sections/viewListingVerifyListing\";\nimport ViewListingDescription from \"./sections/viewListingDescription\";\nimport ViewListingAvailableRooms from \"./sections/viewListingRooms\";\nimport ViewListingAmenitiesList from \"./sections/viewListingAmenitiesList\";\nimport ViewListingReviews from \"./sections/viewListingsReviews\";\nimport ViewListingAboutLocation from \"./sections/viewListingAboutLocation\";\nimport ViewListingExpandableSection from \"./sections/viewListingDeposit\";\nimport ViewListingHouseRulesSection from \"./sections/viewListingHouseRules\";\nimport ViewListingExpandableCancellationSection from \"./sections/viewListingCancellation\";\nimport ViewListingOwnerSection from \"./sections/viewListingOwner\";\nimport ViewListingFooter from \"./sections/viewListingFooter\";\nimport ViewListingReviewPreview from \"./sections/ViewListingReviewPreview\";\n\n// Import skeleton\nimport SkeletonViewListingPage from \"./skeletonViewListingPage/skeletonViewListingPage\";\n\n// Import popups\nimport DatepickerBooking from \"../../components/datepicker/DatepickerBooking\";\nimport SendMessageRequestPopup from \"./popups/viewListingSendMessage\";\nimport Analytics from \"analytics\";\nimport segmentPlugin from \"@analytics/segment\";\nimport GuestPicker from \"../../components/guestpicker/GuestPicker\";\nimport ReservationDetails from \"./sections/viewListingReservationDetails\";\nimport ShareListingPopup from \"./popups/viewListingShare\";\nimport HelmetTags from \"../../components/Helmet/HelmetTags\";\nimport ReviewPopup from \"./popups/viewListingReviewPopup\";\nimport { toggleSaved } from \"../../utils/savedListings/toggleSaved\";\nimport ViewListingSimilarStaySection from \"./sections/viewListingSimilarStay\";\nimport { ListingModel } from \"../../interfaces/models/listingModel\";\nimport { BookingDetail } from \"../../interfaces/models/bookingDetail\";\nimport { UserModel } from \"../../interfaces/models/userModel\";\nimport { identityIdSelector } from \"../../state/selectors/identityId\";\nimport { loggedInSelector } from \"../../state/selectors/loggedIn\";\nimport { Helmet } from \"react-helmet-async\";\nimport { generateJsonLd } from \"./seo/jsonLd\";\nimport ViewListingTopBtn from \"./sections/viewListingTopBtn\";\n\nconst analytics = Analytics({\n    app: \"Anystay\",\n    plugins: [\n        segmentPlugin({\n            writeKey: process.env.REACT_APP_SEGMENT_WRITE_KEY,\n        }),\n    ],\n});\nexport interface ListingInterface extends ListingModel {\n    streetNumber: string;\n    streetName: string;\n    unitNumber?: string;\n    stateShort: string;\n    overallAverage: number;\n    checkOutTime: number;\n    checkInTime: number;\n    advanceNotice: number;\n    advanceNoticeTime: number;\n}\nexport interface GuestsInterface {\n    adults: number;\n    children: number;\n    infants: number;\n    pets: number;\n}\ninterface DatesInterface {\n    startDate: Date | string;\n    endDate: Date | string;\n}\ninterface QueryParams {\n    arrivalDate?: string;\n    departureDate?: string;\n    adults?: string;\n    children?: string;\n    infants?: string;\n    pets?: string;\n}\n\nexport default function ViewListing() {\n    const { id } = useParams();\n\n    const [userModel, setUserModel] = useRecoilState(userModelSelector);\n    const [identityId, setIdentityId] = useRecoilState(identityIdSelector);\n    const [loggedIn, setLoggedIn] = useRecoilState(loggedInSelector);\n    const [signInMenuActivated, setSignInMenuActivated] = useRecoilState(signInMenuActivatedSelector);\n    const [accessToken, setAccessToken] = useRecoilState(accessTokenSelector);\n    const navigate = useNavigate();\n\n    //get query params\n    const location = useLocation();\n    const queryParams = useMemo(() => {\n        const searchParams = new URLSearchParams(location.search);\n        const params: QueryParams = {};\n        for (let [key, value] of searchParams.entries()) {\n            params[key as keyof QueryParams] = value;\n        }\n        return params;\n    }, [location.search]);\n\n    //picker state\n    const [dates, setDates] = useState({\n        startDate: queryParams.arrivalDate ? new Date(`${queryParams.arrivalDate.split(\"-\")[2]}-${queryParams.arrivalDate.split(\"-\")[1]}-${queryParams.arrivalDate.split(\"-\")[0]}`) : \"anyArrival\",\n        endDate: queryParams.departureDate\n            ? new Date(`${queryParams.departureDate.split(\"-\")[2]}-${queryParams.departureDate.split(\"-\")[1]}-${queryParams.departureDate.split(\"-\")[0]}`)\n            : \"anyDeparture\",\n    });\n    const [guests, setGuests] = useState<GuestsInterface>({\n        adults: queryParams.adults && Number(queryParams.adults) ? Number(queryParams.adults) : 1,\n        children: queryParams.children && Number(queryParams.children) ? Number(queryParams.children) : 0,\n        infants: queryParams.infants && Number(queryParams.infants) ? Number(queryParams.infants) : 0,\n        pets: queryParams.pets && Number(queryParams.pets) ? Number(queryParams.pets) : 0,\n    });\n\n    //data\n    const [listing, setListing] = useState<ListingInterface | null>(null);\n    const [listingOwnerData, setListingOwnerData] = useState<UserModel | null>(null);\n    const [listingOwnerProfilePictureURL, setListingOwnerProfilePictureURL] = useState<string>(\"https://d292awxalydr86.cloudfront.net/Settings+page/Profile+photo+placeholder.png\");\n    const [bookingDetails, setBookingDetails] = useState<BookingDetail | null>(null);\n    const [unavailableDates, setUnavailableDates] = useState<{ date: string; checkOutPossible: boolean }[] | null>(null);\n    //popup state\n    const [calendarSelected, setCalendarSelected] = useState(false);\n    const [shareListingSelected, setShareListingSelected] = useState(false);\n    const [sendMessage, setSendMessage] = useState(false);\n    const [isReview, setIsReview] = useState(false);\n    const [reservervationGuestsMenu, setReservationGuestsMenu] = useState(false);\n    const [nightlyPriceBreakdownPopupActive, setNightlyPriceBreakdownPopupActive] = useState(false);\n    //page state\n    const [sendAMessageBtnClicked, setSendAMessageBtnClicked] = useState(false);\n\n    const [isSaved, setIsSaved] = useState(false);\n    const isDesktopSize = useIsDesktopSize();\n    //disable scroll when popup is active\n    useEffect(() => {\n        if (calendarSelected || shareListingSelected || sendMessage || reservervationGuestsMenu || isReview) {\n            document.body.style.overflow = \"hidden\";\n        } else {\n            document.body.style.overflow = \"unset\";\n        }\n    }, [calendarSelected, shareListingSelected, sendMessage, reservervationGuestsMenu, isReview]);\n\n    useEffect(() => {\n        if (userModel && userModel.savedListings.includes(listing ? listing.id : \"\")) {\n            setIsSaved(true);\n        }\n        setTimeout(() => {\n            if (listing && userModel) {\n                analytics.track(\"viewListingPageView\", {\n                    userId: loggedIn ? userModel?.username : `anon_${identityId}`,\n                    listingId: id,\n                    propertyTitle: listing.propertyTitle,\n                    queryParams: queryParams,\n                });\n            } else {\n                analytics.track(\"viewListingPageView\", {\n                    userId: loggedIn ? userModel?.username : `anon_${identityId}`,\n                    listingId: id,\n                    propertyTitle: listing?.propertyTitle,\n                    queryParams: queryParams,\n                });\n            }\n        }, 1200);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [id, listing, userModel]);\n\n    const calculatePrice = useCallback(async (dates: DatesInterface, guests: GuestsInterface, listing: ListingInterface) => {\n        let res = await callApi(\"post\", `${process.env.REACT_APP_ENV}-anystay-booking`, `booking/details/${listing.id}`, {\n            headers: {\n                Authorization: accessToken,\n            },\n            body: {\n                coupon: null,\n                listingModelId: listing.id,\n                arrivalDate: dates.startDate.toString(),\n                departureDate: dates.endDate.toString(),\n                guests: guests.adults + guests.children,\n            },\n        });\n\n        if (res.success) {\n            setBookingDetails(res.bookingDetails);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    const initListing = useCallback(\n        async (id: string, dates: DatesInterface, guests: GuestsInterface) => {\n            try {\n                let listingData = await callApi(\"get\", `${process.env.REACT_APP_ENV}-anystay-listing`, `listing/${id}`, {\n                    headers: {\n                        Authorization: accessToken,\n                    },\n                });\n                listingData = listingData.body.listing;\n                setListing(listingData);\n                setUnavailableDates(listingData.unavailableDates);\n                if (listingData.UserHostModel.UserModel?.profilePicture) {\n                    const listingOwnerProfilePic = constructOptimisedProtectedImageUrl(listingData.UserHostModel.UserModel.profilePicture, listingData.UserHostModel.UserModel.identityID, 100);\n                    setListingOwnerProfilePictureURL(listingOwnerProfilePic);\n                }\n                setListingOwnerData(listingData.UserHostModel.UserModel);\n                if (dates.startDate !== \"anyArrival\" && dates.endDate !== \"anyDeparture\") {\n                    await calculatePrice(dates, guests, listingData);\n                }\n            } catch (err) {\n                console.log(err);\n            }\n        },\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [calculatePrice]\n    );\n    //init data\n    useEffect(() => {\n        const init = async () => {\n            await initListing(id as string, dates, guests);\n        };\n        init();\n    }, [dates, guests, id, initListing]);\n\n    const updateDates = async (date: Date[]) => {\n        if (!listing) return;\n        await calculatePrice({ startDate: date[0], endDate: date[1] }, guests, listing);\n        setDates({ startDate: date[0], endDate: date[1] });\n        analytics.track(\"ViewListingUpdateDates\", {\n            userId: loggedIn ? userModel?.username : `anon_${identityId}`,\n            listingId: id,\n            propertyTitle: listing?.propertyTitle,\n            arrivalDate: date[0],\n            departureDate: date[1],\n        });\n    };\n    const updateGuests = async (guests: { adults: number; children: number; infants: number; pets: number }) => {\n        if (!listing) return;\n        await calculatePrice(dates, guests, listing);\n        setGuests({\n            adults: guests.adults,\n            children: guests.children,\n            infants: guests.infants,\n            pets: guests.pets,\n        });\n        analytics.track(\"ViewListingUpdateGuests\", {\n            userId: loggedIn ? userModel?.username : `anon_${identityId}`,\n            listingId: id,\n            propertyTitle: listing?.propertyTitle,\n            guests: guests.adults + guests.children,\n            adults: guests.adults,\n            children: guests.children,\n            infants: guests.infants,\n            pets: guests.pets,\n        });\n    };\n\n    const toggleCalendar = () => {\n        setCalendarSelected(!calendarSelected);\n    };\n    const toggleGuests = () => {\n        setReservationGuestsMenu(!reservervationGuestsMenu);\n    };\n\n    const toggleSendMessageRequest = async () => {\n        if (userModel) {\n            setSendMessage(!sendMessage);\n        } else {\n            setSignInMenuActivated(true);\n        }\n    };\n    const toggleSeeReview = async () => {\n        setIsReview(!isReview);\n        analytics.track(\"ViewListingSeeAllReviewsOpened\", {\n            userId: loggedIn ? userModel?.username : `anon_${identityId}`,\n            listingId: id,\n            propertyTitle: listing?.propertyTitle,\n        });\n    };\n    const toggleSendAMessageBtnClicked = async () => {\n        setSendAMessageBtnClicked(!sendAMessageBtnClicked);\n    };\n    const toggleNightlyPriceBreakdownPopup = () => {\n        setNightlyPriceBreakdownPopupActive(!nightlyPriceBreakdownPopupActive);\n    };\n\n    const toggleShareListing = async () => {\n        setShareListingSelected(!shareListingSelected);\n        analytics.track(\"ViewListingShareListingPopupOpened\", {\n            userId: loggedIn ? userModel?.username : `anon_${identityId}`,\n            listingId: id,\n            propertyTitle: listing?.propertyTitle,\n        });\n    };\n\n    const openedGalleryEvent = async () => {\n        analytics.track(\"ViewListingGalleryOpened\", {\n            userId: loggedIn ? userModel?.username : `anon_${identityId}`,\n            listingId: id,\n            propertyTitle: listing?.propertyTitle,\n        });\n    };\n\n    useEffect(() => {\n        window.scrollTo(0, 0);\n    }, []);\n    const handleShare = async () => {\n        if (navigator.share && listing) {\n            try {\n                await navigator.share({\n                    title: \"Anystay\",\n                    text: `${listing!.propertyTitle}`,\n                    url: `http://anystay.com.au/listing/${listing.id}`,\n                });\n                console.log(\"Share successful\");\n            } catch (error) {\n                console.error(\"Error sharing:\", error);\n            }\n        } else {\n            alert(\"Web Share is not supported in your browser.\");\n        }\n    };\n\n    const clickedListingFromRecommendation = (listingId: string) => {\n        analytics.track(\"ClickedListingFromRecommendation\", {\n            userId: loggedIn ? userModel?.id : identityId,\n            listingId: listingId,\n        });\n    };\n\n    const sendMessageEvent = (listingId: any, startDate: any, endDate: any, message: any) => {\n        analytics.track(\"SentMessageFromViewListing\", {\n            userId: loggedIn ? userModel?.id : identityId,\n            listingId: listingId,\n            startDate: startDate,\n            endDate: endDate,\n            message: message,\n        });\n    };\n\n    const jsonLd = generateJsonLd(listing);\n\n    if (!listing || !listingOwnerData || !unavailableDates) {\n        return <SkeletonViewListingPage />;\n    }\n    const tagContent = {\n        title: listing ? `${listing.propertyTitle} | ${listing.propertyType} in ${listing.suburb}, ${listing.state}, Australia | Anystay` : \"Anystay | Short & Long Stays, Holiday Homes, Rooms & More\",\n        description: listing\n            ? `Explore our curated list of properties available for short-term stays in ${listing.suburb}. Find your perfect accommodation with AnyStay.`\n            : \"Book the perfect Australian stay at the best prices with Anystay. Find amazing deals on the biggest range of accommodation in Australia.\",\n        imgUrl:\n            listing && listing.listingImages[0]\n                ? constructOptimisedImageUrl(JSON.parse(listing.listingImages[0] as string).key, 100)\n                : \"https://d292awxalydr86.cloudfront.net/General/Stays+in+Australia.jpg\",\n        url: listing ? `https://anystay.com.au/listing/${listing.id}` : \"https://www.anystay.com.au/\",\n    };\n    return (\n        <Fragment>\n            {/* <HelmetTags\n                title={`${listing.propertyTitle} | ${listing.propertyType} in ${listing.suburb}, ${listing.state}, Australia | Anystay`}\n                description={`Explore our curated list of properties available for short-term stays in ${listing.suburb}. Find your perfect accommodation with AnyStay.`}\n                imgUrl={constructOptimisedImageUrl(JSON.parse(listing.listingImages[0] as string).key, 100)}\n                url={`https://anystay.com.au/listing/${listing.id}`}\n            /> */}\n            <Helmet>\n                <title>{tagContent.title}</title>\n                <meta property=\"og:title\" content={tagContent.title} />\n                <meta property=\"twitter:title\" content={tagContent.title} />\n                <meta property=\"og:type\" content=\"website\" />\n                <meta name=\"description\" content={tagContent.description} />\n                <meta name=\"twitter:description\" content={tagContent.description} />\n                <meta name=\"og:description\" content={tagContent.description} />\n                <meta property=\"og:image\" content={tagContent.imgUrl} />\n                <meta property=\"twitter:image\" content={tagContent.imgUrl} />\n                <meta property=\"og:url\" content={tagContent.url} />\n                <meta property=\"twitter:url\" content={tagContent.url} />\n                <script type=\"application/ld+json\">{JSON.stringify(jsonLd)}</script>\n            </Helmet>\n\n            <ViewListingTopBtn\n                toggleSaved={toggleSaved}\n                toggleShareListing={toggleShareListing}\n                handleShare={handleShare}\n                listing={listing}\n                accessToken={accessToken}\n                isSaved={isSaved ? isSaved : false}\n                setIsSaved={setIsSaved}\n                loggedIn={loggedIn}\n            />\n\n            {!loggedIn && (\n                <ViewListingCouponHeader>\n                    <ViewListingCouponHeaderTitle>10% off your stay</ViewListingCouponHeaderTitle>\n                    <ViewListingCouponHeaderBtn onClick={() => setSignInMenuActivated(true)}>Sign up</ViewListingCouponHeaderBtn>\n                </ViewListingCouponHeader>\n            )}\n\n            <ViewListingDesktopHeader\n                handleShare={handleShare}\n                toggleShareListing={toggleShareListing}\n                dates={dates}\n                guests={guests}\n                bookingDetails={bookingDetails}\n                listing={listing}\n                accessToken={accessToken}\n                toggleCalendar={toggleCalendar}\n                toggleSaved={toggleSaved}\n                isSaved={isSaved ? isSaved : false}\n                setIsSaved={setIsSaved}\n            />\n            <ViewListingFeaturedImages openedGalleryEvent={openedGalleryEvent} listingImages={listing.listingImages as string[]} />\n            <ViewListingContainer>\n                <ViewListingTopContainerWrapper>\n                    <ViewListingTopContainer>\n                        <ViewListingTitle propertyTitle={listing.propertyTitle} propertyType={listing.propertyType} suburb={listing.suburb} state={listing.stateShort} listing={listing} />\n                        {listing.verified && <ViewListingVerifyListing />}\n                        <ViewListingReviewPreview listing={listing} reviews={listing.ReviewStayModels.items} />\n                        <ViewListingDescription description={listing.propertyDescription ? listing.propertyDescription : \"No description yet\"} />\n                        <ViewListingAvailableRooms availableRooms={listing.RoomModels.items} />\n                        <ViewListingAmenitiesList title={\"Included at your place\"} amenities={listing.amenities} cardQty={10} />\n                    </ViewListingTopContainer>\n                    <ReservationDetails\n                        dates={dates}\n                        guests={guests}\n                        bookingDetails={bookingDetails}\n                        listing={listing}\n                        toggleCalendar={toggleCalendar}\n                        toggleGuests={toggleGuests}\n                        toggleNightlyPriceBreakdownPopup={toggleNightlyPriceBreakdownPopup}\n                        nightlyPriceBreakdownPopupActive={nightlyPriceBreakdownPopupActive}\n                    />\n                </ViewListingTopContainerWrapper>\n\n                <ViewListingReviews listing={listing} reviews={listing.ReviewStayModels.items} toggleSeeReview={toggleSeeReview} />\n\n                <ViewListingAboutLocation hasReviews={listing.overallAverage > 0} listing={listing} lat={JSON.parse(listing.location).lat} lng={JSON.parse(listing.location).lon} />\n\n                <ViewListingOwnerSection\n                    listing={listing}\n                    dates={dates}\n                    listingOwnerData={listingOwnerData}\n                    listingOwnerProfilePictureURL={listingOwnerProfilePictureURL}\n                    toggleCalendar={toggleCalendar}\n                    toggleSendMessageRequest={toggleSendMessageRequest}\n                    toggleSendAMessageBtnClicked={toggleSendAMessageBtnClicked}\n                    sendAMessageBtnClicked={sendAMessageBtnClicked}\n                />\n                <ViewListingExapndableDesktopWrapper>\n                    <ViewListingHouseRulesSection title={\"House rules\"} checkOutTime={listing.checkOutTime} checkInTime={listing.checkInTime} points={listing.houseRules} />\n                    <ViewListingExpandableSection deposit={listing.deposit} />\n\n                    <ViewListingExpandableCancellationSection title={\"Cancellations\"} cancellationPolicy={listing.cancellationPolicy} />\n                </ViewListingExapndableDesktopWrapper>\n                {/* {process.env.REACT_APP_ENV === \"dev\" && <ViewListingSimilarStaySection clickedListingFromRecommendation={clickedListingFromRecommendation} />} */}\n            </ViewListingContainer>\n            {!isDesktopSize && <ViewListingFooter toggleCalendar={toggleCalendar} dates={dates} guests={guests} listing={listing} bookingDetails={bookingDetails} />}\n            <Footer />\n            {sendMessage && (\n                <SendMessageRequestPopup\n                    accessToken={accessToken}\n                    listing={listing}\n                    toggleSelected={toggleSendMessageRequest}\n                    selected={sendMessage}\n                    dates={dates}\n                    guests={guests}\n                    bookingDetails={bookingDetails}\n                    sendMessageEvent={sendMessageEvent}\n                />\n            )}\n            {isReview && <ReviewPopup listing={listing} reviews={listing.ReviewStayModels.items} toggleSeeReview={toggleSeeReview} isReview={isReview} />}\n            {listing && reservervationGuestsMenu && (\n                <GuestPicker\n                    listing={listing}\n                    listingOwnerData={listingOwnerData}\n                    toggleGuests={toggleGuests}\n                    adults={guests.adults}\n                    pets={guests.pets}\n                    children={guests.children}\n                    infants={guests.infants}\n                    updateGuests={updateGuests}\n                />\n            )}\n\n            {calendarSelected && (\n                <DatepickerBooking\n                    unavailableDates={unavailableDates}\n                    startDate={dates.startDate}\n                    endDate={dates.endDate}\n                    listing={listing}\n                    cancelFunc={() => {\n                        toggleCalendar();\n                        if (sendAMessageBtnClicked) {\n                            toggleSendAMessageBtnClicked();\n                        }\n                    }}\n                    saveFunc={async (dateRange: Date[]) => {\n                        await updateDates(dateRange);\n                        if (sendAMessageBtnClicked) {\n                            toggleSendMessageRequest();\n                            toggleSendAMessageBtnClicked();\n                        }\n                    }}\n                    handleClickOutside={() => {\n                        toggleCalendar();\n                        if (sendAMessageBtnClicked) {\n                            toggleSendAMessageBtnClicked();\n                        }\n                    }}\n                />\n            )}\n            {shareListingSelected && <ShareListingPopup toggleShareListing={toggleShareListing} listing={listing} selected={shareListingSelected} />}\n        </Fragment>\n    );\n}\n","import { callApi } from \"../api/api\";\nimport { userModelState } from \"../../state/atoms/userModel\";\nimport { setRecoil } from \"recoil-nexus\";\nimport Analytics from \"analytics\";\nimport segmentPlugin from \"@analytics/segment\";\n\ninterface UserModel {\n    id: string;\n    firstName: string;\n    email: string;\n    savedListings: string[];\n}\n\nconst analytics = Analytics({\n    app: \"Anystay\",\n    plugins: [\n        segmentPlugin({\n            writeKey: process.env.REACT_APP_SEGMENT_WRITE_KEY,\n        }),\n    ],\n});\n\nexport const toggleSaved = async (listingId: string, userModel: UserModel, accessToken: string) => {\n    try {\n        let addedOrRemoved = \"\";\n        if (!userModel) {\n            throw new Error(\"user model not defined.\");\n        }\n        const savedListings = userModel.savedListings || [];\n        let newListingIDs = [];\n        if (savedListings.includes(listingId)) {\n            addedOrRemoved = \"removed\";\n            newListingIDs = savedListings.filter((e) => e !== listingId);\n        } else {\n            addedOrRemoved = \"added\";\n            newListingIDs = [...savedListings, listingId];\n        }\n\n        await callApi(\"post\", `${process.env.REACT_APP_ENV}-anystay-user`, `user/saved`, {\n            headers: {\n                Authorization: accessToken,\n            },\n            body: {\n                listingId: listingId,\n            },\n        });\n        \n\n        let userModelCopy = JSON.parse(JSON.stringify(userModel));\n        userModelCopy.savedListings = newListingIDs;\n        setRecoil(userModelState, userModelCopy);\n        analytics.track('SavedListing', {\n            userId: userModel.id,\n            addedOrRemoved: addedOrRemoved,\n            listingId: listingId\n        })\n    } catch (err) {\n        console.log(err);\n    }\n};\n"],"names":["MyComponent","props","wheelEvent","event","Object","defineProperty","value","useEffect","document","addEventListener","removeEventListener","map","setMap","React","location","useLocation","isTablet","setIsTablet","useState","window","innerWidth","handleResize","isStayPageTabletSize","useMemo","pathname","includes","onLoad","mapInstance","setTimeout","bounds","google","maps","LatLngBounds","lat","lng","fitBounds","setOptions","zoomControlOptions","position","ControlPosition","TOP_RIGHT","onUnmount","_jsx","GoogleMap","mapContainerStyle","containerStyle","center","options","fullscreenControl","disableDefaultUI","minZoom","zoom","styles","featureType","elementType","stylers","color","visibility","lightness","gestureHandling","zoomControl","scrollwheel","scrollWheelZoom","children","MarkerF","icon","ViewListingDesktopHeader","_ref","listing","dates","accessToken","guests","toggleCalendar","bookingDetails","toggleShareListing","toggleSaved","handleShare","isSaved","setIsSaved","desktopHeaderActive","setDesktopHeaderActive","userModel","setUserModel","useRecoilState","userModelSelector","signInMenuActivated","setSignInMenuActivated","signInMenuActivatedSelector","useRef","listenToScroll","scroll","pageYOffset","ViewListingDesktopHeaderWrapper","animate","y","initial","_jsxs","ViewListingDesktopHeaderContentWrapper","ViewListingDesktopHeaderPriceWrapper","ViewListingDesktopHeaderPrice","displayItems","subTotalItems","amountFormatted","Number","pricePerNight","toFixed","minimumPrice","ViewListingDesktopHeaderMinimum","type","onClick","startDate","endDate","toLocaleDateString","month","day","minimumStay","ViewListingDesktopHeaderReserveButtonComponent","listingID","id","_ref2","navigate","useNavigate","ViewListingDesktopHeaderReserveButton","arrivalDate","String","getDate","padStart","getMonth","getFullYear","departureDate","searchParamsStrings","adults","pets","infants","filter","param","join","Image","src","alt","style","aspectRatio","imgLoaded","setImgLoaded","ViewListingImageMasonryItemWrapper","ViewListingFeaturedImage","Masonry","imageUrls","setLightBoxActive","setCarouselIndex","listingImages","sections","imgObjsWithAspectRatio","sort","a","b","_JSON$parse","_JSON$parse2","JSON","parse","hasOwnProperty","priority","Infinity","item","index","width","height","i","length","_imgObjsWithAspectRat","sectionContent","push","getSections","columnReverse","ViewListingFeaturedImageDesktopWrapper","section","ViewListingFeaturedImageSection","key","current","maxHeight","minHeight","ViewListingFeaturedImageBottomPart","totalAspectRatio","widthPercentage","memo","ViewListingFeaturedImages","openedGalleryEvent","carouselIndex","lightboxActive","hover","setHover","imgKey","_JSON$parse3","constructOptimisedImageUrl","_Fragment","Lightbox","mainSrc","nextSrc","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","enableZoom","onAfterOpen","getElementsByClassName","background","ViewListingFeaturedImageWrapper","ViewListingFeaturedImagesWrapper","className","modules","Navigation","Pagination","navigation","centeredSlides","pagination","clickable","loop","onSlideChange","e","initialSlide","imageUrl","virtualIndex","ViewListingImageBackIcon","url","ViewListingImageIcon","onMouseEnter","onMouseLeave","ViewListingFeaturedImageTextWrapper","ViewListingFeaturedImageTitle","ViewListingTitle","propertyTitle","state","suburb","propertyType","formatPlural","singular","plural","copied","setCopied","timer","clearTimeout","ViewListingTitleWrapper","verified","ViewListingTitleTitle","ViewListingSubtitleWrapper","ViewListingTitleSubtitle","charAt","toUpperCase","slice","ViewListingTitleAmenities","bedrooms","beds","bathrooms","areaValue","areaUnit","ViewListingTitleReview","ViewListingTitleReviewStar","viewBox","fill","xmlns","d","ColorTheme","Black","ViewListingTitleReviewText","ReviewStayModels","items","overallAverage","ViewListingCouponArea","ViewListingCouponAreaContent","ViewListingCouponAreaText","CouponCopyButton","navigator","clipboard","writeText","CouponCopyButtonIcon","AnimatePresence","CopiedToClipboardPortal","ViewListingVerifyListing","ViewListingVerifyListingWrapper","ViewListingVerifyListingTitleWrapper","ViewListingVerifyListingTitle","ViewListingVerifyListingSubtitle","ViewListingVerifyListingBtn","href","target","ViewListingDescription","description","readMore","setReadMore","formatTextWithLineBreaks","text","split","line","Fragment","ViewListingDescriptionWrapper","ViewListingDescriptionText","ViewListingReadMoreButton","ViewListingAvailableRooms","availableRooms","isEnd","setIsEnd","isBeginning","setIsBeginning","SwiperButton","swiper","useSwiper","ViewLisitingSwiperButtonWrapper","ViewLisitingSwiperButton","slidePrev","selected","Grey2","slideNext","transform","sortedAvailableRooms","getOrder","roomType","ViewLisitingAvailableRoomWrapper","ViewLisitingAvailableRoomTitle","ViewLisitingAvailableRooms","slidesPerView","spaceBetween","FreeMode","freeMode","SwiperSlideWrapper","ViewListingAvailableRoomCard","room","_ref3","imageLightboxActive","setImageLightBoxActive","singleBeds","roomBeds","bed","doubleBeds","queenBeds","kingBeds","roomImageUrl","images","imageTitle","roomTitle","ViewLisitingAvailableRoom","ViewLisitingAvailableRoomImage","ViewLisitingAvailableRoomIcon","ViewLisitingAvailableRoomText","ViewLisitingAvailableRoomSubtext","ViewLisitingAvailableRoomSubtextListItem","formatBeds","amenitiesSrc","Bed","Desk","Washer","Aircon","Heating","Wifi","Pool","Kitchen","Bedding","Iron","Safe","Lift","Dryer","Gym","BBQ","Spa","Office","Towels","Toiletries","Parking","Dishwasher","Cutlery","TV","Alarm","Arcade","Babysitting","Backyard","Balcony","Bar","Bathtub","Bicycle","Bidet","Boat","Books","Cinema","Conditioner","Deadbolt","Fireplace","Foxtel","Fridge","Golf","Hangers","HBO","Kettle","Microwave","Netflix","Oven","Piano","Playstation","Prime","Printer","Shampoo","Soap","Speakers","Spices","Stove","Thermomix","Toaster","Toys","Vacuum","Wardrobe","Xbox","Linen","default","getAmenitieSrc","amenitie","ViewListingAmenitiesList","amenities","title","cardQty","getAllCards","setGetAllCards","validAmenities","ViewListingAmenitiesListWrapper","ViewListingAmenitiesListTitle","ViewListingAmenitiesListContainer","imgSrc","ViewListingAmenitiesListItemCard","img","ViewListingAmenitiesMoreButton","ViewListingAmenitiesListItem","ViewListingAmenitiesListItemIcon","ViewListingAmenitiesListItemText","attributes","fieldName","ViewListingReviews","reviews","toggleSeeReview","renderReview","reviewsData","body","hidden","ViewListingReviewsWrapper","ViewListingReviewsHeaderWrapper","ViewListingReviewsHeaderRating","ViewListingReviewsHeaderRatingTitle","ViewListingReviewsHeaderDivider","ViewListingReviewsHeader","ViewListingReviewsTitle","ViewListingReviewsSubtitle","ViewListingNoReviewsTitle","ViewListingReviewsAverageAttributesWrapper","ViewListingReviewsAverageAttribute","ViewListingReviewsAverageAttributeTitle","ViewListingReviewsAverageAttributeRating","ViewListingReviewsAverageAttributeRatingInner","ViewListingReservationDivider","ViewListingReviewsCommentSwiperWrapper","isShow","ViewListingReviewsCommentSwiper","ViewListingReviewsItemWrapper","review","Review","ViewListingNoReviewsCommentWrapper","ViewListingNoReviewsCommentTitle","ViewListingNoReviewsCommentSubtitle","ViewListingReviewsSeeAllReviewBtn","_review$UserModel2","reviewOwnerProfilePictureURL","setReviewOwnerProfilePictureURL","isExpanded","setIsExpanded","externalSource","setExternalSource","handleClick","wrapperRef","useClickOutside","_review$UserModel","UserModel","profilePicture","reviewOwnerProfilePic","constructOptimisedProtectedImageUrl","identityID","ViewListingReviewsReviewWrapper","display","ViewListingReviewsReviewImage","flexDirection","justifyContent","ViewListingReviewsReviewName","firstName","externalUserFirstName","ViewListingReviewsReviewDate","Date","createdAt","year","usermodelID","ViewListingReviewsExternalPopup","ref","textDecoration","ViewListingReviewsReviewText","ReadMoreButton","ViewListingAboutLocation","hasReviews","isDesktopSize","useIsDesktopSize","ViewListingAboutLocationWrapper","ViewListingAboutLocationTitle","ViewListingMapWrapper","Map","bottom","borderRadius","ViewListingAboutLocationSubtitle","ViewListingExpandableSection","deposit","ViewListingExpandableSectionContainer","ViewListingExpandableSectionWrapper","ViewListingExpandableSectionTitle","ViewListingExpandableSectionSubtitle","ViewListingDamageDepositText","fontWeight","ViewListingDamageDepositLink","ViewListingHouseRulesSection","points","checkInTime","checkOutTime","getTime","time","pointsData","getHouseRuleIcon","houseRule","startsWith","ViewListingHouseRulesIconsWrapper","point","ViewListingHouseRulesIconWrapper","ViewListingHouseRulesIcon","ViewListingHouseRulesText","ViewListingExpandableCancellationSection","cancellationPolicy","ViewListingExpandableSectionContainerCancel","marginTop","getText","margin","ViewListingOwnerSection","_listingOwnerData$pro","listingOwnerProfilePictureURL","listingOwnerData","toggleSendMessageRequest","toggleSendAMessageBtnClicked","sendAMessageBtnClicked","ViewListingOwnerSectionWrapper","ViewListingOwnerSectionPartWrapper","ViewListingOwnerSectionButton","ViewListingHeaderProfileImageWrapper","ViewListingOwnerSectionImage","userIDConfirmed","ViewListingHeaderProfileImageVerified","ViewListingOwnerSectionTitleWrapper","ViewListingOwnerSectionTitle","ViewListingOwnerSectionSubtitle","ViewListingOwnerSectionText","profileDescription","straID","ViewListingOwnerSectionQuestionWrapper","ViewListingOwnerSectionQuestionButton","ViewListingFooter","ViewListingFooterWrapper","ViewListingFooterTextWrapper","ViewListingFooterTitleText","ViewListingFooterSubtitleText","underlineActive","FooterReserveButton","ViewListingFooterButton","ViewListingReviewPreview","reviewContent","find","ViewListingReviewWrapper","ViewListingReviewBox","ViewListingReviewTitle","ViewListingReviewContentHeader","ViewListingReviewContentTitle","ViewListingReviewContentSubtitle","ViewListingContainer","styled","div","ViewListingTopContainerWrapper","SpacingTheme","spacing_800","gap","ViewListingTopContainer","ViewListingAmenitiesContainer","ViewListingSubtitleTextWrapper","ViewListingSubtitlePlaceType","ViewListingSubtitleHostedBy","ViewListingSubtitleImage","ViewListingAmenitiesWrapper","BorderRadiusTheme","radius_12","ViewListingAmenitie","ViewListingAmenitieIcon","ViewListingAmenitieText","spacing_400","padding","spacing_500","spacing_600","ViewListingDesktopMenuWrapper","ViewListingDesktopMenu","ShadowTheme","shadow_100","boxShadow","spacing_350","spacing_250","ViewListingDesktopMenuPrice","ViewListingDesktopMenuDatesWrapper","Grey1","ViewListingDesktopMenuDatesItem","ViewListingDesktopMenuDatesItemTitle","ViewListingDesktopMenuDatesItemSubtitle","ViewListingDesktopMenuDatesSelectSubtitle","SkeletonReservationDetails","gridColumn","borderLeft","borderTop","SkeletonViewListingPage","SendMessageRequestPopup","toggleSelected","sendMessageEvent","messageSent","setMessageSent","isContinueBtnLoading","setIsContinueBtnLoading","message","setMessage","handleClose","GlobalPopupContainerCenter","backBtnType","closePopup","handleSave","async","callApi","headers","Authorization","listingModelId","toString","then","catch","err","console","log","sendMsg","disable","btnColor","btnText","ViewListingSendMessageRequestWrapper","ViewListingSendMessageRequestTitle","ViewListingSendMessageRequestSubtitle","ViewListingSendMessageRequestTextInput","placeholder","onChange","maxLength","handleReserve","cancelBtnText","ViewListingSendMessageRequestSentTitleWrapper","ViewListingSendMessageRequestSentTitle","ViewListingSendMessageRequestSentHeader","ViewListingSendMessageRequestSentImage","overflow","ViewListingSendMessageRequestSentHeaderTitle","placeType","getPlaceType","typeOfPlace","ViewListingSendMessageRequestSentHeaderSubtitle","ViewListingSendMessageRequestSentHeaderPrice","ViewListingSendMessageRequestSentHeaderTotalWrapper","priceItems","label","marginBottom","ViewListingSendMessageRequestSentHeaderSubtotal","ViewListingSendMessageRequestSentHeaderTotal","momentTimezone","moment","DesktopReserveButton","renderBtnContent","approved","status","btnOnClick","disabled","inactive","ViewListingReservationDetails","_bookingDetails$displ","toggleGuests","toggleNightlyPriceBreakdownPopup","nightlyPriceBreakdownPopupActive","formatGuestsValue","guestsArray","showBreakdown","ViewListingReservationDatepickerLabelWrapper","ViewListingDesktopMenuDatesSubtotal","NightlyPriceBreakdownPopup","toggleModal","ViewListingDesktopMenuDatesDivider","ViewListingDesktopMenuDatesTotal","ShareListingPopup","timeout","noContinueBtn","ShareListingPopupWrapper","ShareListingPopupTitleWrapper","ShareListingPopupTitle","ShareListingPopupHeaderWrapper","ShareListingPopupHeaderImage","gridRow","ShareListingPopupHeaderPlaceType","ShareListingPopupHeaderText","ShareListingPopupHeaderTextPrice","gridTemplateColumns","IndividualFacebookShareButton","quote","hashtag","IndividualShareButtonIcon","IndividualShareButtonText","IndividualEmailShareButton","subject","separator","IndividualTwitterShareButton","hashtags","IndividualShareButton","ShareListingDivider","ShareListingDoneButton","ReviewPopup","isReview","ViewListingReviewPop","ViewListingReviewPopCloseBtnWrapper","ViewListingReviewPopCloseBtnIcon","ViewListingReviewPopWrapper","ViewListingReviewPopTitle","ViewListingReviewPopRateWrapper","ViewListingReviewPopSwiperWrapper","ViewListingReviewPopItemWrapper","ViewListingReviewPopReviewWrapper","formatAmenities","formattedAmenities","amenity","name","checkPetsAllowed","houseRules","petsAllowed","forEach","rule","toLowerCase","checkSmokingAllowed","smokingAllowed","formatCheckInCheckOutTime","timeString","getCancellationPolicy","getAdditionalProperties","additionalProperties","cleaningFee","getReviews","formattedReviews","_review$UserModel3","reviewRating","ratingValue","rating","bestRating","author","lastName","externalFirstName","externalLastName","datePublished","date","reviewBody","generateJsonLd","_listing$listingImage","_listing$RoomModels","_listing$RoomModels$i","_listing$ReviewStayMo","_listing$ReviewStayMo2","_listing$ReviewStayMo3","_listing$ReviewStayMo4","_listing$ReviewStayMo5","propertyDescription","image","priceRange","address","streetAddress","unitNumber","streetNumber","street","addressLocality","addressRegion","city","postalCode","postcode","addressCountry","amenityFeature","numberOfRooms","RoomModels","numberOfBedrooms","numberOfBathrooms","accommodationCategory","maximumAttendeeCapacity","geo","latitude","longitude","lon","hasMap","checkinTime","checkoutTime","floorSize","unitCode","cancelationPolicy","occupancy","minValue","maxValue","additionalProperty","aggregateRating","reviewCount","ViewListingTopBtn","loggedIn","isSavedLoading","isSticky","setIsSticky","handleScroll","offset","scrollY","ViewListingIconWrappar","BackBtn","handleBackBtnClick","history","hasBackground","ViewListingSaveAndShareButtonWrapper","ViewListingSaveButtonWrapper","prev","HeartIcon","Red","White","stroke","ViewListingShareButtonWrapper","ViewListingShareButtonIcon","analytics","Analytics","app","plugins","segmentPlugin","writeKey","process","ViewListing","useParams","identityId","setIdentityId","identityIdSelector","setLoggedIn","loggedInSelector","setAccessToken","accessTokenSelector","queryParams","searchParams","URLSearchParams","search","params","entries","setDates","setGuests","setListing","setListingOwnerData","setListingOwnerProfilePictureURL","setBookingDetails","unavailableDates","setUnavailableDates","calendarSelected","setCalendarSelected","shareListingSelected","setShareListingSelected","sendMessage","setSendMessage","setIsReview","reservervationGuestsMenu","setReservationGuestsMenu","setNightlyPriceBreakdownPopupActive","setSendAMessageBtnClicked","savedListings","track","userId","username","listingId","calculatePrice","useCallback","res","coupon","success","initListing","_listingData$UserHost","listingData","UserHostModel","listingOwnerProfilePic","init","scrollTo","share","error","alert","jsonLd","tagContent","imgUrl","Helmet","property","content","stringify","ViewListingCouponHeader","ViewListingCouponHeaderTitle","ViewListingCouponHeaderBtn","stateShort","ReservationDetails","ViewListingExapndableDesktopWrapper","Footer","GuestPicker","updateGuests","DatepickerBooking","cancelFunc","saveFunc","updateDates","dateRange","handleClickOutside","addedOrRemoved","Error","newListingIDs","userModelCopy","setRecoil","userModelState"],"mappings":"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","debug_id":"6bba6f57-0798-50ea-9e02-89ef8ff8672a"}