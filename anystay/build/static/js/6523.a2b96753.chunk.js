/*! For license information please see 6523.a2b96753.chunk.js.LICENSE.txt */
"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c016914c-6821-5429-b741-817b769f74f3")}catch(e){}}();
(self.webpackChunkanystay_dev=self.webpackChunkanystay_dev||[]).push([[6523],{6523:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var i=n(5043),r=n(2119),o=n(5475),a=n(6438),s=n(4936);const l=r.Ay.div`
    display: flex;
    flex-direction: column;
    width: calc(100% - 48px);
    padding-top: 36px;
    margin: 0 24px;
    min-height: 100vh;

    @media (min-width: 768px) {
        margin-top: 80px;
        padding-top: 48px;
    }
    @media (min-width: 1280px) {
        width: calc(100% - 160px);
        margin-left: auto;
        margin-right: auto;
    }
`,c=r.Ay.h2`
    margin: 0;
    margin-bottom: 24px;
    font-size: ${s.$G.sans_1000_semi.fontSize};
    line-height: ${s.$G.sans_1000_semi.lineHeight};
    font-weight: ${s.$G.sans_1000_semi.fontWeight};

    @media (min-width: 768px) {
        margin-bottom: 32px;
    }
`,u=r.Ay.div`
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
`,d=(r.Ay.img`
    height: 64px;
    width: 64px;
    margin: ${s.dB.spacing_500.margin} 0;
`,r.Ay.p`
    font-size: ${s.$G.sans_700_semi.fontSize};
    line-height: ${s.$G.sans_700_semi.lineHeight};
    font-weight: ${s.$G.sans_700_semi.fontWeight};
    color: ${s.J2.Grey1.color};
    text-align: left;
    width: 100%;
    margin-top: 24px;
    margin-bottom: 12px;

    @media (min-width: 768px) {
        margin-top: 16px;
    }
`),p=r.Ay.p`
    font-size: ${s.$G.sans_500.fontSize};
    line-height: ${s.$G.sans_500.lineHeight};
    font-weight: ${s.$G.sans_500.fontWeight};
    max-width: 230px;
    margin: 0;
    align-self: flex-start;
    color: ${s.J2.Grey1.color};
`,f=r.Ay.div`
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    flex-wrap: wrap;
    padding-bottom: 80px;
    gap: 40px;

    @media (min-width: 768px) {
        gap: ${s.dB.spacing_500.gap} 24px;
    }
    &::after {
        content: "";
        flex-grow: 999;
    }
`,h=(0,r.Ay)(o.N_)`
    /* min-width: calc(50% - 16px); */
    min-width: 100%;
    display: flex;
    flex-direction: column;
    text-decoration: none;
    background: ${s.J2.White.color};
    overflow: hidden;
    cursor: pointer;
    padding: 0;
    text-align: left;
    position: relative;
    flex: 1;
    @media (min-width: 768px) {
        min-width: calc(50% - 16px);
    }
    @media (min-width: 1024px) {
        min-width: calc(33% - 18px);
    }
    @media (min-width: 1280px) {
        min-width: calc(20% - 19.2px);
    }
`,g=r.Ay.div`
    width: 100%;
    aspect-ratio: 20/19;
    overflow: hidden;
`,m=(r.Ay.button`
    height: 25px;
    width: 25px;
    border-radius: ${s.Qk.radius_8.borderRadius};
    background: none;
    border: none;
    grid-row: 1/2;
    grid-column: 1/2;
    z-index: 20;
    align-self: flex-start;
    justify-self: flex-end;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: ${s.dB.spacing_300.margin};

    @media (min-width: 768px) {
        height: 32px;
        width: 32px;
        margin: ${s.dB.spacing_350.margin};
    }
`,r.Ay.img`
    height: 16px;
    width: 16px;
    @media (min-width: 768px) {
        height: 20px;
        width: 20px;
    }
`,r.Ay.p`
    grid-row: 3/4;
    grid-column: 1/2;
    font-size: ${s.$G.sans_300.fontSize};
    font-weight: ${s.$G.sans_300.fontWeight};
    line-height: ${s.$G.sans_300.lineHeight};
    color: ${s.J2.Grey.color};
    margin-top: 0px;
    margin-bottom: 0px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
`),y=r.Ay.p`
    grid-row: 2/3;
    grid-column: 1/2;
    font-size: ${s.$G.sans_400_semi.fontSize};
    font-weight: ${s.$G.sans_400_semi.fontWeight};
    line-height: ${s.$G.sans_400_semi.lineHeight};

    margin-top: 16px;
    margin-bottom: 4px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
`,x=(r.Ay.img`
    grid-row: 2/4;
    grid-column: 1/2;
    height: 47px;
    width: 47px;
    object-fit: cover;
    border-radius: 50%;
    align-self: center;
    justify-self: flex-end;
    margin-right: 20px;
    margin-top: 20px;
    margin-bottom: 20px;

    @media (max-width: 767px) {
        display: none;
    }
`,(0,r.Ay)(o.N_)`
    width: calc(100% - 48px);
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 9px;
    font-size: ${s.Ox.sans_button_100.fontSize};
    font-weight: ${s.$G.sans_300_bold.fontWeight};
    line-height: ${s.Ox.sans_button_100.fontSize};
    background: ${s.J2.Red.color};
    margin-top: auto;
    text-decoration: none;
    border: none;
    color: ${s.J2.White.color};
    position: absolute;
    bottom: 114px;
    cursor: pointer;

    &::before {
        position: absolute;
        content: "";
        width: 100%;
        height: 0px;
        background: ${s.J2.Grey2.color};
        top: -24px;
    }

    @media (min-width: 768px) {
        display: none;
    }
`,(0,r.Ay)(o.N_)`
    align-items: center;
    justify-content: center;
    border-radius: 9px;
    font-size: ${s.Ox.sans_button_100.fontSize};
    font-weight: ${s.$G.sans_300_bold.fontWeight};
    line-height: ${s.Ox.sans_button_100.fontSize};
    background: ${s.J2.Red.color};
    border: none;
    text-decoration: none;
    color: ${s.J2.White.color};
    width: 190px;
    height: 47px;
    display: none;
    cursor: pointer;

    @media (min-width: 768px) {
        display: flex;
    }
`,r.Ay.div`
    width: 100%;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
`),w=r.Ay.div`
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    grid-column: 1/3;
    margin: 0 auto;
    margin-top: 32px;

    .MuiPaginationItem-page {
        height: 32px;
        width: 32px;
        border-radius: 50%;
        font-weight: 600;
    }

    .MuiPaginationItem-page:hover {
        background-color: ${s.J2.Grey5.color};
    }

    .MuiPaginationItem-page.Mui-selected {
        background-color: ${s.J2.Red.color} !important;
        color: ${s.J2.White.color};
        font-size: ${s.$G.sans_400_semi.fontSize};
        line-height: ${s.$G.sans_400_semi.lineHeight};
        font-weight: ${s.$G.sans_400_semi.fontWeight};
    }
`,$=r.Ay.p`
    font-size: ${s.$G.sans_400_semi.fontSize};
    line-height: ${s.$G.sans_400_semi.lineHeight};
    color: ${s.J2.Grey.color};
    font-weight: ${s.$G.sans_400_semi.fontWeight};
    margin: 0;
    margin-top: 24px;
`,_=r.Ay.div`
    border-radius: ${s.Qk.radius_8.borderRadius};
    border: none;
    z-index: 2;

    margin: ${s.dB.spacing_300.margin};
    position: absolute;
    top: 0;
    right: 0;
    cursor: pointer;
`,v=(0,r.Ay)(a.A)`
    height: 28px;
    width: 28px;
    stroke: ${s.J2.White.color} !important;
    transition: 0.2s;
    &:hover {
        transform: scale(1.1);
    }
`;r.Ay.ul`
    width: calc(100% - 32px);
    display: flex;
    align-items: center;
    list-style-type: none;
    padding: 0;
    gap: ${s.dB.spacing_200.gap};
    margin: ${s.dB.spacing_250.margin} 0;
`,r.Ay.li`
    border: none;
    height: 20px;
    text-decoration: none;
    padding: 0 12px;
    border-radius: 9px;
    font-size: ${s.$G.sans_200.fontSize};
    line-height: ${s.$G.sans_200.lineHeight};
    font-weight: ${s.$G.sans_200.fontWeight};

    background: ${s.J2.Grey3.color};
    display: flex;
    align-items: center;
    justify-content: center;
`,r.Ay.p`
    width: fit-content;
    font-size: ${s.$G.sans_400_semi.fontSize};
    font-weight: ${s.$G.sans_400_semi.fontWeight};
    margin: 0;

    span {
        font-size: ${s.$G.sans_300.fontSize};
        font-weight: ${s.$G.sans_300.fontWeight};
    }

    strong {
        color: ${s.J2.Grey.color};
        text-decoration: line-through;
    }
`,r.Ay.div`
    display: flex;
    width: 100%;
    justify-content: space-between;
    align-items: flex-end;
    margin: 0;
`;var b=n(7013),S=n(7426),k=n(1869),j=n(831),A=n(9135),C=n(6879),G=n(579);const z=e=>{let{listing:t,deleteListing:n}=e;const[r,o]=(0,i.useState)(!0),[a,l]=(0,i.useState)(!1);return(0,G.jsxs)(h,{id:"saved-card",to:`/listing/${t.id}`,target:window.innerWidth>768?"_blank":"",rel:"noopener noreferrer",children:[(0,G.jsx)(_,{onClick:async e=>{e.preventDefault(),e.stopPropagation();try{o(!1),l(!0),await n(t.id)}catch(i){console.log(i)}},children:(0,G.jsx)(v,{id:"save-button",isActive:r,activeColor:s.J2.Red.color,onClick:()=>{}})}),(0,G.jsx)(g,{children:(0,G.jsx)("img",{style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"12px"},src:(0,C.A)(t.listingImages[0].key,800),alt:"Listing"})}),(0,G.jsx)(y,{children:(()=>{let e="";if(t&&null!==t.suburb){const n=t.suburb.toLowerCase().replace(/\b\w/g,(e=>e.toUpperCase()));switch(t.typeOfPlace){case"entire-place":e=t.propertyType+" in "+n,e=e[0].toUpperCase()+e.substring(1);break;case"hotel-room":e="Hotel in "+n,e=e[0].toUpperCase()+e.substring(1);break;case"private-room":e="Private room in "+n,e=e[0].toUpperCase()+e.substring(1);break;case"shared-room":e="Shared room in "+n,e=e[0].toUpperCase()+e.substring(1)}}return e})()}),(0,G.jsx)(m,{children:t.propertyTitle})]})};var R=n(9082);const E=()=>{const[e,t]=(0,j.useRecoilState)(k.e),[n,r]=(0,j.useRecoilState)(R.H),[o,a]=(0,i.useState)(1),[s,l]=(0,i.useState)(1),[c,h]=(0,i.useState)({}),g=(0,i.useRef)(!1),m=(0,i.useCallback)((async(e,t)=>{let i=await(0,S.p)("post","dev-anystay-listing","listings/saved",{headers:{Authorization:n},body:{userModelId:t,page:e}});return a(i.body.totalPages),i.body.listingData}),[n]);(0,i.useEffect)((()=>{g.current||(async()=>{try{const t=await m(1,e.id);g.current=!0,h({1:t})}catch(t){console.log(t)}})()}),[m,e.id]);const y=async i=>{try{let r=e.savedListings.filter((e=>e!==i));await(0,S.p)("post","dev-anystay-user","user/saved",{headers:{Authorization:n},body:{listingId:i}});const o=JSON.parse(JSON.stringify(e));if(o.savedListings=r,t(o),s>1&&s>Math.ceil(r.length/30)){let t=await m(s-1,e.id);h({[s-1]:t}),l((e=>e-1))}else if(r.length>0){let t=await m(s,e.id);h({[s]:t})}}catch(r){throw console.error("Error updating listings:",r),new Error("Error updating listings:",r.message)}};return 0===e.savedListings.length?(0,G.jsxs)(u,{children:[(0,G.jsx)(d,{children:"Nothing saved yet"}),(0,G.jsxs)(p,{children:["Start exploring for your ",(0,G.jsx)("br",{})," next stay anywhere"]})]}):c[s]?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(f,{children:c[s].map((e=>(0,G.jsx)(z,{deleteListing:y,listing:e},e.id)))}),o>1&&(0,G.jsxs)(w,{children:[(0,G.jsx)(A.A,{page:s,onChange:async(t,n)=>{if(!c[n]){let t=await m(n,e.id);h((e=>({...e,[n]:t})))}l(n)},count:o,size:"small"}),(0,G.jsxs)($,{children:["Showing ",s," of ",o," pages"]})]})]}):null};var J=n(8306);const O=()=>(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(J.A,{title:"Saved | Anystay"}),(0,G.jsx)(b.A,{hide:null}),(0,G.jsxs)(l,{children:[(0,G.jsx)(x,{children:(0,G.jsx)(c,{children:"Saved"})}),(0,G.jsx)(E,{})]})]})},6879:(e,t,n)=>{n.d(t,{A:()=>i});const i=(e,t)=>{const n=JSON.stringify({bucket:"anystayd5a42d592a26430fa01b77cb5f594d9743601-dev",key:`public/${e}`,edits:{resize:{width:t,fit:"cover"}}});return`https://d2x27wzwb18st4.cloudfront.net/${btoa(n)}`}},6438:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(917),r=n(2119),o=n(5173),a=n.n(o);function s(e){let{isActive:t,onClick:n,animationTrigger:r="click",animationScale:o=1.05,animationDuration:a=.05,inactiveColor:s="black",activeColor:c="red",className:u,style:d}=e;return i.createElement(l,{onClick:()=>n(),viewBox:"0 0 17 17",className:u,animationTrigger:r,animationDuration:a,animationScale:o,style:{fill:t?c:"transparent",stroke:t?"transparent":s,strokeWidth:"1px",...d},xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",d:"M8.5,2.3C12.9-2.2,24,5.7,8.5,16C-7,5.7,4.1-2.2,8.5,2.3z"}))}const l=r.Ay.svg`cursor: pointer;${e=>"hover"===e.animationTrigger?`transition: transform ${e.animationDuration}s; &:hover { transform: scale(${e.animationScale});}`:"click"===e.animationTrigger?`transition: transform ${e.animationDuration}s; &:active { transform: scale(${e.animationScale});}`:"both"===e.animationTrigger?`transition: transform ${e.animationDuration}s; &:hover { transform: scale(${e.animationScale});} &:active { transform: scale(${Math.pow(e.animationScale,2)});}`:void 0});}`;s.propTypes={isActive:a().bool.isRequired,onClick:a().func.isRequired,animationTrigger:a().oneOf(["click","hover","none","both"]),animationScale:a().number,animationDuration:a().number,inactiveColor:a().string,activeColor:a().string,className:a().string,style:a().object}},4852:(e,t,n)=>{var i=n(2123),r=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;r=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var p="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=x.prototype=new y;w.constructor=x,i(w,m.prototype),w.isPureReactComponent=!0;var $={current:null},_=Object.prototype.hasOwnProperty,v={key:!0,ref:!0,__self:!0,__source:!0};function b(e,t,n){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!v.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:r,type:e,key:a,ref:s,props:o,_owner:$.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var k=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case o:l=!0}}if(l)return a=a(l=e),e=""===i?"."+j(l,0):i,Array.isArray(a)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),A(a,t,n,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=i+j(s=e[c],c);l+=A(s,t,n,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=A(s=s.value,t,n,u=i+j(s,c++),a);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function C(e,t,n){if(null==e)return e;var i=[],r=0;return A(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function G(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var z={current:null};function R(){var e=z.current;if(null===e)throw Error(f(321));return e}var E={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:$,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(f(143));return e}},t.Component=m,t.PureComponent=x,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var o=i({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=$.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)_.call(t,u)&&!v.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:r,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=b,t.createFactory=function(e){var t=b.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:G}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},917:(e,t,n)=>{e.exports=n(4852)}}]);
//# sourceMappingURL=6523.a2b96753.chunk.js.map
//# debugId=c016914c-6821-5429-b741-817b769f74f3
